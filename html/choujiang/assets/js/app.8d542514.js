(function(e){function t(t){for(var i,s,r=t[0],l=t[1],c=t[2],d=0,m=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var i={},n={app:0},o=[];function s(e){return r.p+"assets/js/"+({about:"about"}[e]||e)+"."+{about:"2114c1c2"}[e]+".js"}function r(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,i){a=n[e]=[t,i]}));t.push(a[2]=i);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=s(e);var c=new Error;o=function(t){l.onerror=l.onload=null,clearTimeout(d);var a=n[e];if(0!==a){if(a){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",c.name="ChunkLoadError",c.type=i,c.request=o,a[1](c)}n[e]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/choujiang/",r.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1d25":function(e,t,a){e.exports=a.p+"assets/img/g2.94a29e0b.png"},"1fb6":function(e,t,a){e.exports=a.p+"assets/img/33.3d058439.png"},"2ae2":function(e,t,a){"use strict";a("fbac")},"466f":function(e,t,a){"use strict";a("5bb0")},"4cb4":function(e,t,a){"use strict";a("904f")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("router-view")],1)],1)},o=[],s={name:"App",data:function(){return{}}},r=s,l=a("2877"),c=a("6544"),d=a.n(c),u=a("7496"),m=a("f6c4"),v=Object(l["a"])(r,n,o,!1,null,null,null),h=v.exports;d()(v,{VApp:u["a"],VMain:m["a"]});a("d3b7"),a("3ca3"),a("ddb0");var p=a("8c4f"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("v-row",{staticStyle:{margin:"auto 0px"},attrs:{justify:"center"}},[a("v-col",[a("v-card",{ref:"form"},[a("v-card-title",{staticClass:"title font-weight-regular justify-space-between"},[a("span",[e._v("登录/注册")])]),a("v-card-text",[a("v-text-field",{ref:"phone",attrs:{rules:e.rules,label:"手机号",required:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("div",{staticClass:"flex-dir-row"},[a("v-text-field",{ref:"yan",attrs:{label:"验证码"},model:{value:e.yan,callback:function(t){e.yan=t},expression:"yan"}}),e.getBtn?a("v-btn",{staticStyle:{"margin-top":"15px"},attrs:{small:"",text:"",color:"primary"},on:{click:e.getBtnYan}},[e._v("获取")]):e._e(),e.timeBtn?a("v-btn",{staticStyle:{"margin-top":"15px"},attrs:{disabled:!0,small:"",text:"",color:"primary"}},[e._v("重新获取 "+e._s(e.time)+" s")]):e._e()],1),a("div",[e._v(e._s(e.msg_i))])],1),a("v-divider",{staticClass:"mt-12"}),a("v-card-actions",[a("v-spacer"),a("v-slide-x-reverse-transition",[e.formHasErrors?a("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"my-0",attrs:{icon:""},on:{click:e.resetForm}},"v-btn",n,!1),i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}],null,!1,522373079)},[a("span",[e._v("Refresh form")])]):e._e()],1),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.submit}},[e._v("登录/注册")])],1)],1)],1)],1),a("v-snackbar",{attrs:{timeout:e.timeout,top:""},scopedSlots:e._u([{key:"action",fn:function(t){var i=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",i,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.text)+" ")])],1)])},g=[],b=(a("159b"),a("b64b"),a("4c53"),a("bc3a")),y=a.n(b),x=y.a.create({timeout:3e4,baseURL:"http://localhost:52537"});x.interceptors.request.use((function(e){var t=JSON.parse(localStorage.getItem("token"));return t&&(e.headers.Authorization="Bearer "+t.access_token),e}),(function(e){return console.log(e),Promise.reject(e)})),x.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var k=x,_=a("4328"),I=a.n(_);function w(e){return k({url:"/choujiang/api/sms",method:"post",data:e})}function C(e){return e=I.a.stringify(e),k({url:"/connect/token",method:"post",data:e})}function T(e){return k({url:"/connect/userinfo",method:"get",params:e})}function P(e){return k({url:"/choujiang/api/User",method:"get",params:e})}function A(e){return k({url:"/choujiang/api/User",method:"delete",data:e})}function V(e){return k({url:"/choujiang/api/Address/list",method:"get",params:e})}function z(e){return k({url:"/choujiang/api/Address",method:"post",data:e})}function S(e){return k({url:"/choujiang/api/Address",method:"put",data:e})}function j(e){return k({url:"/choujiang/api/Address",method:"delete",data:e})}function O(e){return k({url:"/choujiang/api/Lottery/winning-records",method:"get",params:e})}function D(e){return k({url:"/choujiang/api/Lottery",method:"post",data:e})}function L(e){return k({url:"/choujiang/api/Lottery/manager/detailed-records",method:"get",params:e})}function N(e){return k({url:"/choujiang/api/Lottery/manager/general-records",method:"get",params:e})}function $(e){return k({url:"/choujiang/api/Lottery/manager/excel",method:"get",params:e})}function B(e){return k({url:"/choujiang/api/Activity",method:"get",params:e})}function R(e){return k({url:"/choujiang/api/Activity/list",method:"get",params:e})}function F(e){return k({url:"/choujiang/api/Activity",method:"post",data:e})}function U(e){return k({url:"/choujiang/api/Activity",method:"put",data:e})}function E(e){return k({url:"/choujiang/api/Activity",method:"delete",data:e})}function M(e){return k({url:"/choujiang/api/ActivityUser",method:"get",params:e})}function q(e){return k({url:"/choujiang/api/ActivityUser/activities",method:"get",params:e})}function J(e){return k({url:"/choujiang/api/ActivityUser/bindingAvailableActivities",method:"post",data:e})}function Y(e){return k({url:"/choujiang/api/ActivityUser/redeeming",method:"patch",data:e})}function H(e){return k({url:"/choujiang/api/Attendance",method:"post",data:e})}function X(e){return k({url:"/choujiang/api/User",method:"post",data:e})}function K(e){return k({url:"/choujiang/api/PrizeItem",method:"post",data:e})}function G(e){return k({url:"/choujiang/api/PrizeItem/name",method:"get",params:e})}function W(e){return k({url:"/choujiang/api/PrizeItem",method:"get",params:e})}function Z(e){return k({url:"/choujiang/api/PrizeItem/group",method:"get",params:e})}function Q(e){return k({url:"/choujiang/api/PrizeItem/list",method:"get",params:e})}function ee(e){return k({url:"/choujiang/api/PrizeItem",method:"delete",data:e})}function te(e){return k({url:"/choujiang/api/PrizeItem",method:"put",data:e})}function ae(e){return k({url:"/choujiang/api/PrizeTier",method:"post",data:e})}function ie(e){return k({url:"/choujiang/api/PrizeTier",method:"get",params:e})}function ne(e){return k({url:"/choujiang/api/PrizeTier/activity",method:"get",params:e})}function oe(e){return k({url:"/choujiang/api/PrizeTier",method:"delete",data:e})}function se(e){return k({url:"/choujiang/api/PrizeTier",method:"put",data:e})}function re(e){return k({url:"/choujiang/api/File",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function le(e){return k({url:"/choujiang/api/File/key",method:"get",params:e,responseType:"blob"})}var ce={name:"Login",data:function(){return{rules:[function(e){return!!e||"请输入手机号！."},function(e){return(e||"").length<=11||"超过上限！"}],snackbar:!1,text:"请输入正确手机号！",timeout:1500,phone:"",yan:"",formHasErrors:!0,yanzhengma:!1,getBtn:!0,timeBtn:!1,time:60,login_channel:"",loading:!1,post:null,error:null,msg_i:""}},computed:{form:function(){return{phone:this.phone,yan:this.yan}}},created:function(){this.fetchData(),this.getLoginChannel()},watch:{$route:"fetchData"},methods:{getLocalStorageUser:function(){var e=localStorage.getItem("user");return e=JSON.parse(e),e},getUserinfo:function(){var e=this,t=localStorage.getItem("user");if(t=JSON.parse(t),t.login_channel===this.login_channel){console.log("路径一致");var a={userId:t.userId,login_channel:t.login_channel};console.log(a),P(a).then((function(t){console.log(t),e.postActivity()}))}else console.log("路径不一致");if(t.userId){var i=JSON.stringify(t);console.log(i)}},getLoginChannel:function(){this.login_channel="alldays",void 0===this.login_channel?(this.getUserinfo(),this.$router.push({path:"/management/login"})):this.getUserinfo()},backBtn:function(){this.$router.push({path:"/management/login"})},getBtnYan:function(){this.getBtn=!1,this.timeBtn=!0,this.setTime(this.time);var e={phoneNumber:this.phone};w(e).then((function(e){console.log(e)}))},setTime:function(){if(0===this.time)return this.time=60,this.getBtn=!0,this.timeBtn=!1,!1;this.time--,setTimeout(this.setTime,1e3)},getPhone:function(){var e=this.phone,t=/^1(3|4|5|6|7|8|9)\d{9}$/.test(e);t?6!==this.yan.length?(this.snackbar=!0,this.text="请输入正确验证码！"):this.yanzhengma=!0:(this.snackbar=!0,this.text="请输入正确手机号！")},resetForm:function(){var e=this;this.formHasErrors=!0,Object.keys(this.form).forEach((function(t){e.$refs[t].reset()}))},submit:function(){var e=this;if(this.yanzhengma=!1,this.getPhone(),this.yanzhengma){console.log("成功");var t={client_id:"sms.client",client_secret:"secret",grant_type:"sms",scope:"eplus.test.scope openid",phone_number:this.phone,token:this.yan,login_channel:this.login_channel};C(t).then((function(t){console.log(t.data);var a={access_token:t.data.access_token};a=JSON.stringify(a),localStorage.setItem("token",a),T().then((function(t){if(t){console.log("userid:"),console.log(t);var a={userId:t.data.sub,login_channel:e.login_channel};a=JSON.stringify(a),localStorage.setItem("user",a),e.postActivity()}}))}))}else console.log("失败")},postActivity:function(){var e=this,t=this.getLocalStorageUser(),a={userId:t.userId,channelCode:t.login_channel};J(a).then((function(t){console.log(t),200===t.status&&e.$router.push({path:"/home/ngs"})}))},fetchData:function(){this.error=this.post=null,this.loading=!0,this.$route&&console.log(this.$route)}}},de=ce,ue=(a("466f"),a("8336")),me=a("b0af"),ve=a("99d9"),he=a("62ad"),pe=a("ce7e"),fe=a("132d"),ge=a("0fd9"),be=a("0789"),ye=a("2db4"),xe=a("2fa4"),ke=a("8654"),_e=a("3a2f"),Ie=Object(l["a"])(de,f,g,!1,null,"7f308757",null),we=Ie.exports;d()(Ie,{VBtn:ue["a"],VCard:me["a"],VCardActions:ve["a"],VCardText:ve["c"],VCardTitle:ve["d"],VCol:he["a"],VDivider:pe["a"],VIcon:fe["a"],VRow:ge["a"],VSlideXReverseTransition:be["e"],VSnackbar:ye["a"],VSpacer:xe["a"],VTextField:ke["a"],VTooltip:_e["a"]});var Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{flat:"",dense:"",absolute:""}},[a("v-btn",{attrs:{icon:""},on:{click:e.backBtn}},[a("v-icon",[e._v("mdi-arrow-left")])],1),a("v-btn",{attrs:{icon:"",right:""}},[a("v-icon",[e._v("mdi-home")])],1)],1),a("v-main",[a("router-view")],1),a("v-footer",[a("v-bottom-navigation",{attrs:{grow:"",shift:"",fixed:""},model:{value:e.bottomNav,callback:function(t){e.bottomNav=t},expression:"bottomNav"}},[a("v-btn",{attrs:{value:"home"},on:{click:e.ngsBtn}},[a("span",[e._v("首页")]),a("v-icon",[e._v("mdi-home")])],1),a("v-btn",{attrs:{value:"person"},on:{click:e.personBtn}},[a("span",[e._v("个人信息")]),a("v-icon",[e._v("mdi-account")])],1)],1)],1)],1)},Te=[],Pe=(a("b0c0"),{name:"Layout",data:function(){return{bottomNav:"home",window:!0}},methods:{ngsBtn:function(){this.$router.push({path:"/home/ngs",params:{number:1}}),this.bottomNav="home"},personBtn:function(){this.$router.push({path:"/home/person"}),this.bottomNav="person"},backBtn:function(){this.$router.back();var e=this.$route;"Adward"===e.name||"Address"===e.name?this.bottomNav="person":"Person"===e.name?this.bottomNav="home":"Ngs"===e.name&&(this.bottomNav="person")}}}),Ae=Pe,Ve=a("40dc"),ze=a("b81c"),Se=a("553a"),je=Object(l["a"])(Ae,Ce,Te,!1,null,null,null),Oe=je.exports;d()(je,{VApp:u["a"],VAppBar:Ve["a"],VBottomNavigation:ze["a"],VBtn:ue["a"],VFooter:Se["a"],VIcon:fe["a"],VMain:m["a"]});var De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-list",{staticClass:"mt-12",attrs:{"two-line":"",subheader:""}},[a("v-subheader",{attrs:{inset:""}},[e._v("个人资料")]),e._l(e.items,(function(t){return a("v-list-item",{key:t.title},[a("v-list-item-content",{on:{click:function(a){return e.itemBtn(t)}}},[a("v-list-item-title",{domProps:{textContent:e._s(t.title)}}),a("v-list-item-subtitle",{directives:[{name:"show",rawName:"v-show",value:"个人信息"===t.title,expression:"item.title === '个人信息'"}]},[e._v("积分："+e._s(t.subtitle))])],1),a("v-list-item-action",[0!==t.val?a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.itemBtn(t)}}},[a("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-information")])],1):e._e()],1)],1)}))],2)],1)},Le=[],Ne={name:"Person",data:function(){return{items:[{icon:"folder",iconClass:"grey lighten-1 white--text",title:"个人信息",subtitle:"",val:0},{icon:"folder",iconClass:"grey lighten-1 white--text",title:"中奖记录",subtitle:"",val:1},{icon:"folder",iconClass:"grey lighten-1 white--text",title:"地址管理",subtitle:"",val:2}],person:"个人信息",userMsg:{}}},created:function(){this.ifLogin(),this.getUserinfo()},methods:{attendance:function(e){console.log("签到："),console.log(e);var t=this.getLocalStorageUser(),a={channelCode:"ngs",earnedCredits:0,reason:"签到",userId:t.userId,activityId:"3fa85f64-5717-4562-b3fc-2c963f66afa6"};console.log(a),H(a).then((function(e){console.log(e)}))},getUserinfo:function(){var e=this,t=this.getLocalStorageUser(),a={UserId:t.userId,ChannelCode:t.login_channel};console.log(a),P(a).then((function(t){console.log("获取到的用户数据"),console.log(t),e.items[0].subtitle=t.data.data.credit}))},ifLogin:function(){this.userMsg=JSON.parse(localStorage.getItem("token")),this.userMsg?this.userMsg&&console.log("登录"):(this.userMsg={},this.$router.push({path:"/login"}))},itemBtn:function(e){console.log(e.val),2===e.val?this.$router.push({path:"/home/address"}):1===e.val&&this.$router.push({path:"/home/adward"})},getLocalStorageUser:function(){var e=localStorage.getItem("user");return e=JSON.parse(e),e}}},$e=Ne,Be=a("8860"),Re=a("da13"),Fe=a("1800"),Ue=a("5d23"),Ee=a("e0c7"),Me=Object(l["a"])($e,De,Le,!1,null,null,null),qe=Me.exports;d()(Me,{VBtn:ue["a"],VIcon:fe["a"],VList:Be["a"],VListItem:Re["a"],VListItemAction:Fe["a"],VListItemContent:Ue["a"],VListItemSubtitle:Ue["b"],VListItemTitle:Ue["c"],VSubheader:Ee["a"]});var Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._v(e._s(e.person))]),a("v-list",{attrs:{"two-line":"",subheader:""}},[a("v-subheader",{attrs:{inset:""}},[e._v("默认地址")]),e._l(e.items2,(function(t){return a("v-list-item",{key:t.title},[a("v-list-item-content",{on:{click:function(a){return e.getAddressInfo(t)}}},[a("v-list-item-title",[e._v(e._s(t.recipient)+" "+e._s(t.recipientPhoneNumber))]),a("v-list-item-subtitle",[e._v(e._s(t.province)+" "+e._s(t.city)+" "+e._s(t.region))]),a("v-list-item-subtitle",[e._v(e._s(t.detailedAddress))])],1)],1)})),a("v-divider",{attrs:{inset:""}}),a("v-subheader",{attrs:{inset:""}},[e._v("所有地址")]),e._l(e.items,(function(t){return a("v-list-item",{key:t.title},[a("v-list-item-content",{on:{click:function(a){return e.getAddressInfo(t)}}},[a("v-list-item-title",[e._v(e._s(t.recipient)+" "+e._s(t.recipientPhoneNumber))]),a("v-list-item-subtitle",[e._v(e._s(t.province)+" "+e._s(t.city)+" "+e._s(t.region))])],1),a("v-list-item-content"),a("v-list-item-action",{staticStyle:{display:"flex","flex-direction":"row"}},[a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(a){return e.delAddBtn(t)}}},[e._v("mdi-trash-can")])],1),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(a){return e.updateAddBtn(t)}}},[e._v("mdi-arrow-up")])],1)],1)],1)})),a("v-btn",{attrs:{width:"95%",rounded:""},on:{click:e.addBtn}},[e._v("添加地址")])],2)],1)},Ye=[],He=a("b85c"),Xe={name:"Address",data:function(){return{items:[],items2:[],person:"个人信息",shuju:"",userMsg:{}}},created:function(){this.getAddUser()},methods:{getAddUser:function(){var e=this;this.items=[],this.items2=[];var t=localStorage.getItem("user");t=JSON.parse(t);var a={UserId:t.userId};console.log(a),V(a).then((function(t){console.log(t.data),e.items=t.data.data;var a,i=Object(He["a"])(t.data.data);try{for(i.s();!(a=i.n()).done;){var n=a.value;!0===n.isDefault&&e.items2.push(n)}}catch(o){i.e(o)}finally{i.f()}}))},getAddressInfo:function(e){console.log(e)},delAddBtn:function(e){var t=this;console.log("删除"),console.log(e);var a={id:e.id};console.log(a),j(a).then((function(e){console.log(e),t.getAddUser()}))},updateAddBtn:function(e){var t=this,a=e;a.isDefault=!0,console.log(a),S(a).then((function(e){console.log(e),t.getAddUser()}))},addBtn:function(){this.$router.push({path:"/home/addAddress"})}}},Ke=Xe,Ge=Object(l["a"])(Ke,Je,Ye,!1,null,null,null),We=Ge.exports;d()(Ge,{VBtn:ue["a"],VDivider:pe["a"],VIcon:fe["a"],VList:Be["a"],VListItem:Re["a"],VListItemAction:Fe["a"],VListItemContent:Ue["a"],VListItemSubtitle:Ue["b"],VListItemTitle:Ue["c"],VSubheader:Ee["a"]});var Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._v(e._s(e.person))]),a("v-form",{ref:"form",staticStyle:{width:"80vw",margin:"0 auto"},attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"姓名",required:""},model:{value:e.recipient,callback:function(t){e.recipient=t},expression:"recipient"}}),a("v-text-field",{attrs:{label:"电话号码",required:""},model:{value:e.recipientPhoneNumber,callback:function(t){e.recipientPhoneNumber=t},expression:"recipientPhoneNumber"}}),a("div",[a("v-select",{attrs:{items:e.provinceArea,label:"请选择省份",dense:"",outlined:""},on:{change:e.areaChange},model:{value:e.province,callback:function(t){e.province=t},expression:"province"}}),a("v-select",{attrs:{items:e.cityArea,label:"请选择市",dense:"",outlined:""},on:{change:e.areaChange2},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}}),a("v-select",{attrs:{items:e.regionArea,label:"请选择区",dense:"",outlined:""},on:{change:e.areaChange3},model:{value:e.region,callback:function(t){e.region=t},expression:"region"}})],1),a("v-text-field",{attrs:{label:"详细地址",required:""},model:{value:e.detailedAddress,callback:function(t){e.detailedAddress=t},expression:"detailedAddress"}}),a("v-text-field",{attrs:{label:"邮编",required:""},model:{value:e.postcode,callback:function(t){e.postcode=t},expression:"postcode"}}),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-checkbox",{attrs:{label:"是否设置为默认地址",color:"orange",value:"1","hide-details":""},model:{value:e.isDefault,callback:function(t){e.isDefault=t},expression:"isDefault"}})],1),a("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.reset}},[e._v(" 取 消 ")]),a("v-btn",{attrs:{color:"warning"},on:{click:e.addBtn}},[e._v(" 确 定 ")])],1)],1)},Qe=[],et=a("ef6c"),tt={name:"Address",data:function(){return{person:"个人信息",userMsg:{},valid:!0,address:null,items:["Item 1","Item 2","Item 3","Item 4"],checkbox:!1,recipient:"",recipientPhoneNumber:"",detailedAddress:"",postcode:"",area:et["regionData"],province:"",provinceArea:[],city:"",cityArea:[],region:"",regionArea:[],isDefault:"1"}},created:function(){this.showarea()},methods:{validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()},getLocalStorageUser:function(){var e=localStorage.getItem("user");return e=JSON.parse(e),e},addBtn:function(){var e=this,t=this.getLocalStorageUser(),a={recipient:this.recipient,recipientPhoneNumber:this.recipientPhoneNumber,province:this.province,city:this.city,region:this.region,detailedAddress:this.detailedAddress,postcode:this.postcode,userId:t.userId};"1"===this.isDefault&&(a.isDefault=!0),console.log(a),z(a).then((function(t){console.log(t),e.$router.back()}))},showarea:function(){var e,t=[],a=Object(He["a"])(this.area);try{for(a.s();!(e=a.n()).done;){var i=e.value;t.push(i.label)}}catch(n){a.e(n)}finally{a.f()}this.provinceArea=t},areaChange:function(){var e=[];this.c=[];var t,a=Object(He["a"])(this.area);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(this.province===i.label){var n,o=Object(He["a"])(i.children);try{for(o.s();!(n=o.n()).done;){var s=n.value;e.push(s.label),this.c.push(s)}}catch(r){o.e(r)}finally{o.f()}}}}catch(r){a.e(r)}finally{a.f()}this.cityArea=e,this.region=""},areaChange2:function(){var e,t=[],a=Object(He["a"])(this.c);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(this.city===i.label){var n,o=Object(He["a"])(i.children);try{for(o.s();!(n=o.n()).done;){var s=n.value;t.push(s.label)}}catch(r){o.e(r)}finally{o.f()}}}}catch(r){a.e(r)}finally{a.f()}this.regionArea=t},areaChange3:function(){console.log(this.province+"-"+this.city+"-"+this.region)}}},at=tt,it=a("ac7c"),nt=a("4bd4"),ot=a("b974"),st=Object(l["a"])(at,Ze,Qe,!1,null,null,null),rt=st.exports;d()(st,{VBtn:ue["a"],VCheckbox:it["a"],VForm:nt["a"],VRow:ge["a"],VSelect:ot["a"],VTextField:ke["a"]});var lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mr"},[a("v-list",{attrs:{"two-line":"",subheader:""}},[a("v-subheader",{attrs:{inset:""}},[e._v("历史中奖记录")]),e._l(e.items,(function(t){return a("v-list-item",{key:t.title},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(t.activityName)}}),a("v-list-item-subtitle",[e._v(e._s(t.prizeTierName)+" - "+e._s(t.prizeItemName))])],1)],1)}))],2),a("v-snackbar",{attrs:{timeout:e.timeout,top:""},scopedSlots:e._u([{key:"action",fn:function(t){var i=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",i,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.text)+" ")])],1)},ct=[],dt={name:"Adward",data:function(){return{items:[],person:"个人信息",userMsg:{},snackbar:!1,text:"请输入正确手机号！",timeout:1500}},created:function(){this.getLotteryWinningRecords()},methods:{getLotteryWinningRecords:function(){var e=this;this.items=[];var t=localStorage.getItem("user");t=JSON.parse(t);var a={UserId:t.userId};console.log(a),O(a).then((function(t){var a,i=t.data.data,n=Object(He["a"])(i);try{var o=function(){var t=a.value;console.log(t);var i={Id:t.prizeItemId},n={Id:t.prizeTierId},o={Id:t.activityId};W(i).then((function(a){var i=a.data.data;ie(n).then((function(a){var n=a.data.data;B(o).then((function(a){var o=a.data.data,s={activityId:o.id,activityName:o.name,lotteryDisplay:o.lotteryDisplay,prizeTierId:n.id,prizeTierName:n.name,prizeItemId:i.id,prizeItemName:i.name,prizeType:i.prizeType,date:t.date,credit:i.credit,couponActiveCode:i.couponActiveCode};0===i.credit?console.log("积分为0"):(console.log("积分不为0"),e.items.push(s))}))}))}))};for(n.s();!(a=n.n()).done;)o()}catch(s){n.e(s)}finally{n.f()}}))}}},ut=dt,mt=(a("df3b"),Object(l["a"])(ut,lt,ct,!1,null,"6f7bbb90",null)),vt=mt.exports;d()(mt,{VBtn:ue["a"],VList:Be["a"],VListItem:Re["a"],VListItemContent:Ue["a"],VListItemSubtitle:Ue["b"],VListItemTitle:Ue["c"],VSnackbar:ye["a"],VSubheader:Ee["a"]});var ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app",attrs:{id:"app"}},[i("v-row",{staticClass:"mt-12 mb-10",attrs:{dense:""}},[i("v-col",{attrs:{cols:"12"}},[i("v-card",{attrs:{color:"#be1e12",dark:""}},[i("v-card-title",{staticClass:"headline"},[e._v("活动list")])],1)],1),e._l(e.items,(function(t,n){return i("v-col",{key:n,attrs:{cols:"12"}},[i("v-card",{attrs:{color:t.color,dark:""}},[i("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[i("div",[i("v-card-title",{staticClass:"headline",domProps:{textContent:e._s(t.name)}}),i("v-card-subtitle",{staticStyle:{"font-size":"14px"}},[e._v("剩余活动抽奖次数："+e._s(t.remainingDraws))]),i("v-card-actions",[i("v-btn",{attrs:{elevation:4,text:""},on:{click:function(a){return e.openaddialog(t)}}},[e._v("兑换抽奖次数")]),i("v-btn",{attrs:{elevation:4,text:""},on:{click:function(a){return e.postBtn(t)}}},[e._v("抽奖")])],1)],1),i("v-avatar",{staticClass:"ma-3",attrs:{size:"125",tile:""},on:{click:function(a){return e.activityBtn(t)}}},[i("v-img",{attrs:{src:a("8f79")}})],1)],1)])],1)}))],2),i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:e.msg.color}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[i("v-icon",[e._v("mdi-close")])],1)],1),i("v-list",{attrs:{"three-line":"",subheader:""}},[i("v-img",{attrs:{src:a("5ade")}})],1)],1)],1),i("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.addialog,callback:function(t){e.addialog=t},expression:"addialog"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[e._v("兑换积分")]),i("v-card-text",[e._v("是否消耗 "+e._s(e.at)+" 积分兑换抽奖次数")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.addialog=!1}}},[e._v("取消")]),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.sBtn}},[e._v("确定")])],1)],1)],1),i("v-snackbar",{staticStyle:{"margin-top":"100px"},attrs:{timeout:e.timeout,top:""},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[i("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.text)+" ")])],1)},pt=[],ft=a("5a0c"),gt=a.n(ft),bt={name:"Playngs",data:function(){return{vm:{showDialog:!1},userMsg:{},wupin:[{id:1,name:"可乐",shu:100,weight:100},{id:2,name:"雪碧",shu:100,weight:100},{id:3,name:"铅笔",shu:50,weight:50},{id:4,name:"记事本",shu:10,weight:10}],addward:"",personid:"",randomNum:0,randomNum2:0,randomMsg:"",items:[],dialog:!1,addialog:!1,addmsg:{},at:0,notifications:!1,sound:!0,widgets:!1,msg:{},info:[{name:"活动名称"}],colorItem:["#be1e12","#be1e12"],snackbar:!1,text:"请输入正确手机号！",timeout:4e3}},created:function(){this.fetchData(),this.getActAvailable(),this.getUserinfo()},watch:{$route:"fetchData"},methods:{getLocalStorageUser:function(){var e=localStorage.getItem("user");return e=JSON.parse(e),e},postBtn:function(e){console.log("抽奖"),console.log(e);var t=this.getLocalStorageUser();console.log(t);var a={channelCode:t.login_channel,lotteryDisplay:e.lotteryDisplay,userId:t.userId,activityId:e.activityId,count:1};console.log(a),this.$router.push({path:"/home/zhuan",query:a})},openaddialog:function(e){var t=this;this.addialog=!0,this.addmsg=e,console.log(e);var a={Id:e.activityId};B(a).then((function(e){console.log(e.data.data),t.at=e.data.data.requiredCreditForRedeeming}))},sBtn:function(){this.patchBtn(this.addmsg)},patchBtn:function(e){var t=this;console.log(e),console.log("兑换抽奖次数");var a=this.getLocalStorageUser(),i={activityId:e.activityId,userId:a.userId,channel:a.login_channel,count:1,unitPrice:e.requiredCreditForRedeeming,reason:"抽奖兑换次数"};console.log(i),Y(i).then((function(e){console.log(e),t.getActAvailable(),t.addialog=!1})).catch((function(e){var a=e.response.data.errors;"Sorry, the user had already achieved the daily maximum number of redemption of this activity."===a&&(t.snackbar=!0,t.text="今日已达兑换上限，请明日再来",t.addialog=!1)}))},deleteUserBtn:function(){var e=this.getLocalStorageUser(),t={id:e.userId};console.log(t),A(t).then((function(e){console.log(e)}))},activityBtn:function(e){console.log(e),this.dialog=!0,this.msg=e},guaBtn:function(){this.$router.push({path:"/home/gua"})},closeBtn:function(){this.vm.showDialog=!1},dec:function(){var e=0;console.log(e)},startC:function(){var e,t=document.getElementById("pointer"),a=Math.floor(10*Math.random()+1);console.log(a),e=3600,t.style.transform="rotate("+e+"deg)",t.style.transition="all 4s ease 0.5s"},getActAvailable:function(){var e=this;this.info=[];var t=this.getLocalStorageUser(),a=gt()().format("YYYY-MM-DD"),i={startTime:a,AvailableChannels:t.login_channel};i=JSON.stringify(i),i=JSON.parse(i),R(i).then((function(e){console.log(e.data.data)}));var n={UserId:t.userId,AvailableChannel:t.login_channel};q(n).then((function(t){console.log("用户所有活动："),console.log(t.data.data);var a,i=Object(He["a"])(t.data.data);try{var n=function(){var t=a.value,i={Id:t.activityId};B(i).then((function(a){var i=a.data.data,n={activityId:i.id,name:i.name,availableChannels:i.availableChannels,activityType:i.activityType,lotteryDisplay:i.lotteryDisplay,startTime:i.startTime,endTime:i.endTime,activityCode:i.activityCode,userId:t.userId,usedDraws:t.usedDraws,todayUsedDraws:t.todayUsedDraws,remainingDraws:t.remainingDraws,attendanceDays:t.attendanceDays,sequentialAttendanceDays:t.sequentialAttendanceDays,lastAttendanceDate:t.lastAttendanceDate};e.info.push(n);var o=e.info.length,s=o%2;e.info[o-1].color=e.colorItem[s],e.items=e.info}))};for(i.s();!(a=i.n()).done;)n()}catch(o){i.e(o)}finally{i.f()}}))},getUserinfo:function(){var e=this.getLocalStorageUser(),t={UserId:e.userId,ChannelCode:e.login_channel};console.log(t),P(t).then((function(e){console.log("获取到的用户数据"),console.log(e)}))},getAdward:function(){var e=this.wupin,t=0,a=0;for(t;t<e.length;t++)a+=e[t].shu;var i=Math.floor(Math.random()*a)+1,n=0;for(t=0;t<e.length;t++)if(n+=e[t].shu,i<=n){this.addward=e[t].name;break}this.randomNum=i},getRandom:function(){var e=Math.floor(100*Math.random());this.randomNum2=e,e<=80?(this.randomMsg="没中奖...",this.randomNum=0,this.addward=""):e>80&&e<=100&&(this.randomMsg="中奖了！",this.getAdward())},fetchData:function(){this.personid=this.$route.params.id}}},yt=bt,xt=a("8212"),kt=a("169a"),_t=a("adda"),It=a("71d9"),wt=Object(l["a"])(yt,ht,pt,!1,null,"cb6bb4bc",null),Ct=wt.exports;d()(wt,{VAvatar:xt["a"],VBtn:ue["a"],VCard:me["a"],VCardActions:ve["a"],VCardSubtitle:ve["b"],VCardText:ve["c"],VCardTitle:ve["d"],VCol:he["a"],VDialog:kt["a"],VIcon:fe["a"],VImg:_t["a"],VList:Be["a"],VRow:ge["a"],VSnackbar:ye["a"],VSpacer:xe["a"],VToolbar:It["a"]});var Tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("h1",[e._v("A beautiful parrot got trapped behind some paper.")]),i("h2",[e._v("Scratch them free!")]),i("vue-scratchable",{attrs:{brushOptions:e.brush,hideOptions:e.hide,getPercentageCleared:""},on:{percentageUpdate:e.updatePoints},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.init;return[i("div",{staticClass:"wrapper"},[i("img",{attrs:{alt:"图片加载中...",src:a("1d25")},on:{load:function(e){return n()}}}),i("h3",[e._v(e._s(e.subline))])])]}}])}),i("p",[e._v("You scratched "+e._s(e.percentage)+"% free.")])],1)},Pt=[],At=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vue-scratchable-wrapper"},[e._t("default",null,{init:e.init}),a("canvas",{on:{mousedown:e.mouseDown,mousemove:e.mouseMove,touchstart:e.touchDown,touchmove:e.touchMove}})],2)},Vt=[],zt=a("3835"),St=a("1da1"),jt=(a("96cf"),a("a9e3"),a("99af"),a("38cf"),a("b047")),Ot=a.n(jt),Dt={name:"VueScratchable",props:{brushOptions:{type:Object,default:function(){return{size:20,shape:"round"}}},hideOptions:{type:Object,default:function(){return{type:"color",value:"#dadada"}}},getPercentageCleared:{type:Boolean,default:!1},percentageStride:{type:Number,default:150}},data:function(){return{canvas:null,context:null,isPressed:!1,offset:{top:0,left:0},position:{currX:0,currY:0,lastX:0,lastY:0},observer:null,initFlag:!1}},mounted:function(){var e=this;this.canvas=this.$el.querySelector("canvas");var t=Ot()((function(){return e.init()}),200);this.observer=new MutationObserver((function(a){a.forEach((function(a){var i=a.attributeName;!e.initFlag&&i&&t()}))})),this.observer.observe(this.$el,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),window.addEventListener("mouseup",this.mouseUp,!1),window.addEventListener("touchend",this.touchUp,!1),window.addEventListener("touchcancel",this.touchUp,!1),this.init(),window.addEventListener("resize",Ot()(this.init,500))},destroyed:function(){window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("touchend",this.touchUp),window.removeEventListener("touchcancel",this.touchUp),window.removeEventListener("resize",Ot()(this.init,500)),this.observer.disconnect()},methods:{init:function(){var e=this;this.initFlag=!0,this.setCanvasSizeAndContext(),this.$nextTick((function(){return e.fillArea()}))},setCanvasSizeAndContext:function(){var e=this;this.$nextTick((function(){var t=e.$el.getBoundingClientRect(),a=t.width,i=t.height;e.canvas.width=Math.ceil(a),e.canvas.height=Math.ceil(i),e.context=e.canvas.getContext("2d")}))},setOffsets:function(){var e=this.canvas.getBoundingClientRect(),t=e.top,a=e.left;this.offset.top=t+document.body.scrollTop,this.offset.left=a+document.body.scrollLeft},fillArea:function(){var e=this;return Object(St["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.context.canvas,i=a.width,n=a.height,t.next=3,e.setFillStyle().catch((function(e){console.error(" Failed to load image!\n            Error: ".concat(e.name,"\n            Message: ").concat(e.message,"\n          "))}));case 3:e.context.fillRect(0,0,i,n),e.initFlag=!1;case 5:case"end":return t.stop()}}),t)})))()},setFillStyle:function(){var e=this,t=this.hideOptions,a=t.type,i=t.value,n=void 0===i?"":i,o=t.src,s=void 0===o?"":o,r=t.repeat,l=void 0===r?"":r;return this.context.globalCompositeOperation="source-over",new Promise("color"===a?function(t){return t(e.context.fillStyle=n)}:function(t,a){var i=new Image;i.onload=function(){e.context.fillStyle=e.context.createPattern(i,l),t(i)},i.onerror=function(e){return a(e)},i.src=s})},clearArea:function(){var e=this.context.canvas,t=e.width,a=e.height;this.context.globalCompositeOperation="destination-out",this.context.fillRect(0,0,t,a)},draw:function(){var e=this.position,t=e.currX,a=e.currY,i=e.lastX,n=e.lastY;this.context.beginPath(),this.context.globalCompositeOperation="destination-out",this.context.lineWidth=this.brushOptions.size,this.context.lineJoin=this.brushOptions.shape,this.context.moveTo(i,n),this.isPressed?this.context.lineTo(t,a):this.context.lineTo(t+.01,a+.01),this.context.closePath(),this.context.stroke(),this.lastPositionHelper(t,a),this.calculateClearedArea()},lastPositionHelper:function(e,t){this.position.lastX=e,this.position.lastY=t},currentPositionHelper:function(e,t){this.position.currX=e-this.offset.left,this.position.currY=t-this.offset.top},mouseDown:function(e){var t=e.clientX,a=e.clientY;this.setOffsets(),this.currentPositionHelper(t,a),this.lastPositionHelper(this.position.currX,this.position.currY),this.draw(),this.isPressed=!0},mouseMove:function(e){var t=e.clientX,a=e.clientY;this.isPressed&&(this.currentPositionHelper(t,a),this.draw())},mouseUp:function(){this.isPressed=!1},touchDown:function(e){var t=Object(zt["a"])(e.targetTouches,1),a=t[0],i=a.clientX,n=a.clientY;this.setOffsets(),this.currentPositionHelper(i,n),this.lastPositionHelper(this.position.currX,this.position.currY),this.draw(),this.isPressed=!0},touchMove:function(e){e.preventDefault();var t=Object(zt["a"])(e.targetTouches,1),a=t[0],i=a.clientX,n=a.clientY;this.currentPositionHelper(i,n),this.draw()},touchUp:function(){this.isPressed=!1},calculateClearedArea:function(){if(this.getPercentageCleared){for(var e=this.context.canvas,t=e.width,a=e.height,i=this.context.getImageData(0,0,t,a),n=i.data,o=i.data.length,s=o/this.percentageStride,r=0,l=r;l<o;l+=this.percentageStride)0===parseInt(n[l],10)&&(r+=1);this.$emit("percentage-update",Math.round(r/s*100))}}}},Lt=Dt,Nt=(a("4cb4"),Object(l["a"])(Lt,At,Vt,!1,null,"047af992",null)),$t=Nt.exports,Bt=a("cf05"),Rt=a.n(Bt),Ft={name:"Gua",components:{VueScratchable:$t},computed:{subline:function(){return this.percentage<100?"🎉 There is still ".concat(100-this.percentage,"% left for me to be free... 🎉"):"💚 Thank you for scratching me free! 💚"}},data:function(){return{percentage:0,hide:{type:"pattern",src:Rt.a,repeat:"repeat"},brush:{size:60,shape:"round"}}},methods:{updatePoints:function(e){this.percentage=e}}},Ut=Ft,Et=(a("8b42"),Object(l["a"])(Ut,Tt,Pt,!1,null,null,null)),Mt=Et.exports,qt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mt-12",style:e.note,attrs:{id:"app"}},[i("div",[e._v("剩余抽奖次数："+e._s(e.a))]),i("div",{staticClass:"turnplate_box"},[i("div",{style:e.my1},[i("img",{staticClass:"hand",attrs:{id:"hand",src:a("ef31"),alt:""},on:{click:e.startBtn}})])]),i("v-snackbar",{staticStyle:{"margin-top":"100px"},attrs:{timeout:e.timeout,top:""},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[i("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.text)+" ")])],1)},Jt=[],Yt={name:"Zhuan",computed:{},data:function(){return{a:0,angles:0,clickNum:5,rotNum:0,notice:null,color:["#3AA8A7","#FFD578","rgba(250,250,250,0.5)","#ffffff","#E64538","#FAE8CD"],info:["谢谢参与","1000","10","500","100","4999","1","20"],snackbar:!1,text:"请输入正确手机号！",timeout:4e3,msg:"123",note:{backgroundImage:"url("+a("de67")+")",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",height:"100%"},my1:{backgroundImage:"url("+a("1fb6")+")",backgroundRepeat:"no-repeat",backgroundSize:"100% 95%",height:"100%",width:"100%"}}},mounted:function(){this.getData(),this.scr()},methods:{getData:function(){var e=this;console.log(this.$route.query);var t=this.$route.query,a={ActivityId:t.activityId},i={UserId:t.userId,ActivityId:t.activityId};M(i).then((function(t){console.log(t.data.data),e.a=t.data.data.remainingDraws})),ne(a).then((function(t){console.log(t),e.info=t.data.data,console.log(e.info)}))},startBtn:function(){var e=this,t=this.$route.query;D(t).then((function(t){var a=t.data.data[0],i={Id:a.prizeItemId},n={Id:a.prizeTierId};console.log(i),W(i).then((function(t){var a=t.data.data;ie(n).then((function(t){var i=t.data.data;e.notice=i.name+" "+a.name;var n=i.id;e.runCup(n),e.rotNum=e.rotNum+1,setTimeout(e.show,6e3)}))}))})).catch((function(t){var a=t.response.data;400===a.statusCode&&("The user did not have enough chance to draw a lottery ."===a.errors&&(e.snackbar=!0,e.text="剩余抽奖次数为0，请先兑换抽奖次数"),"Sorry, the user had already achieved the daily maximum number of draws of this activity."===a.errors&&(e.snackbar=!0,e.text="今日已达抽奖上限，请明日再来"))}))},show:function(){this.snackbar=!0,this.text=this.notice},runCup:function(e){console.log(e),this.probability(e);var t="rotate("+this.angles+"deg)",a=document.getElementById("hand");a.style.transform=t,this.getData()},probability:function(e){var t,a=0,i=0,n=Object(He["a"])(this.info);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(e===o.id){i=a;break}a+=1}}catch(s){n.e(s)}finally{n.f()}0==i?this.angles=2160*this.rotNum+1822.5:7==i?this.angles=2160*this.rotNum+2137.5:6==i?this.angles=2160*this.rotNum+2092.5:5==i?this.angles=2160*this.rotNum+2047.5:4==i?this.angles=2160*this.rotNum+2002.5:3==i?this.angles=2160*this.rotNum+1957.5:2==i?this.angles=2160*this.rotNum+1912.5:1==i&&(this.angles=2160*this.rotNum+1867.5)},scr:function(){console.log(screen.width);var e=screen.width;this.ml=.3*e}}},Ht=Yt,Xt=(a("2ae2"),Object(l["a"])(Ht,qt,Jt,!1,null,null,null)),Kt=Xt.exports;d()(Xt,{VBtn:ue["a"],VSnackbar:ye["a"]});var Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-navigation-drawer",{attrs:{absolute:"",permanent:"",width:"225px"}},[a("v-row",{staticClass:"fill-height",attrs:{"no-gutters":""}},[a("v-navigation-drawer",{attrs:{"mini-variant":"",permanent:"",src:e.bg,dark:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{staticClass:"py-0",attrs:{dense:""}},[a("v-list-item",{class:"px-0"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-list-item-avatar",e._g(e._b({staticStyle:{margin:"10px auto"},attrs:{dark:""}},"v-list-item-avatar",n,!1),i),[a("img",{attrs:{alt:"wutu",src:"https://randomuser.me/api/portraits/men/81.jpg"}})])]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",[a("img",{attrs:{src:"https://randomuser.me/api/portraits/men/81.jpg",alt:"John"}})]),a("v-list-item-content",[a("v-list-item-subtitle",[e._v("管理员")])],1),a("v-list-item-action",[a("v-btn",{class:e.fav?"red--text":"",attrs:{icon:""},on:{click:function(t){e.fav=!e.fav}}},[a("v-icon",[e._v("mdi-heart")])],1)],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.backBtn}},[e._v("退 出")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.menu=!1}}},[e._v("关 闭")])],1)],1)],1)],1),a("v-divider"),e._l(e.items,(function(t){return a("v-list-item",{key:t.title,attrs:{link:""}},[a("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on,o=i.attrs;return[a("v-list-item-icon",e._g(e._b({attrs:{color:"primary",dark:""}},"v-list-item-icon",o,!1),n),[a("v-icon",{on:{click:function(a){return e.changeList(t)}}},[e._v(e._s(t.icon))])],1)]}}],null,!0)},[a("span",[e._v(e._s(t.title))])]),a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.title))])],1)],1)}))],2)],1),"用户管理"===this.submenu?a("v-list",{attrs:{dense:"",nav:""}},[a("v-subheader",{staticStyle:{"font-size":"17px","font-weight":"700"}},[e._v(e._s(this.submenu))]),a("v-list-item-group",{attrs:{color:"blue"},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}},e._l(e.dashboardmenu,(function(t){return a("v-list-item",{key:t.subtitle},[a("v-list-item-icon",{on:{click:function(a){return e.routerClick(t)}}},[a("v-icon",{attrs:{medium:""}},[e._v("mdi-chevron-right")]),a("span",{staticStyle:{"font-size":"14px","line-height":"180%"}},[e._v(e._s(t.subtitle))])],1)],1)})),1)],1):e._e(),"活动管理"===this.submenu?a("v-list",{attrs:{dense:"",nav:""}},[a("v-subheader",{staticStyle:{"font-size":"17px","font-weight":"700"}},[e._v(e._s(this.submenu))]),a("v-list-item-group",{attrs:{color:"blue"},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}},e._l(e.photosmenu,(function(t){return a("v-list-item",{key:t.subtitle},[a("v-list-item-icon",{on:{click:function(a){return e.routerClick(t)}}},[a("v-icon",{attrs:{medium:""}},[e._v("mdi-chevron-right")]),a("span",{staticStyle:{"font-size":"14px","line-height":"180%"}},[e._v(e._s(t.subtitle))])],1)],1)})),1)],1):e._e(),"奖品管理"===this.submenu?a("v-list",{attrs:{dense:"",nav:""}},[a("v-subheader",{staticStyle:{"font-size":"17px","font-weight":"700"}},[e._v(e._s(this.submenu))]),a("v-list-item-group",{attrs:{color:"blue"},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}},e._l(e.aboutmenu,(function(t){return a("v-list-item",{key:t.subtitle},[a("v-list-item-icon",{on:{click:function(a){return e.routerClick(t)}}},[a("v-icon",{attrs:{medium:""}},[e._v("mdi-chevron-right")]),a("span",{staticStyle:{"font-size":"14px","line-height":"180%"}},[e._v(e._s(t.subtitle))])],1)],1)})),1)],1):e._e()],1)],1),a("v-main",{staticStyle:{"margin-left":"245px","margin-top":"20px"}},[a("router-view")],1)],1)},Wt=[],Zt={name:"Layout",data:function(){return{drawer:!0,items:[{title:"用户管理",icon:"mdi-view-dashboard"},{title:"活动管理",icon:"mdi-image"},{title:"奖品管理",icon:"mdi-help-box"}],submenu:"活动管理",dashboardmenu:[{subtitle:"添加管理",id:"addManager"}],photosmenu:[{subtitle:"添加活动",id:"addActivity"},{subtitle:"活动管理",id:"manageActivity"},{subtitle:"活动查询",id:"activitySearch"}],aboutmenu:[{subtitle:"添加商品",id:"addProd"},{subtitle:"奖品管理",id:"manageProd"}],miniVariant:!0,background:!0,item:[{text:"用户管理",disabled:!1,href:"breadcrumbs_dashboard"},{text:"Link 1",disabled:!1,href:"breadcrumbs_link_1"},{text:"Link 2",disabled:!0,href:"breadcrumbs_link_2"}],links:["Home","Contacts","Settings"],fav:!0,menu:!1,message:!1,hints:!0}},computed:{bg:function(){return this.background?"https://cdn.vuetifyjs.com/images/backgrounds/bg-2.jpg":void 0}},methods:{changeList:function(e){console.log(e.title),this.submenu=e.title},routerClick:function(e){if(console.log(e),e.id){console.log("1");var t="/management/"+e.id;console.log(t),this.$router.push({path:t})}},getUser:function(){T().then((function(e){console.log("用户信息："),console.log(e)}))},backBtn:function(){this.$router.push({path:"/management/login"})}}},Qt=Zt,ea=a("8270"),ta=a("1baa"),aa=a("34c3"),ia=a("e449"),na=a("f774"),oa=Object(l["a"])(Qt,Gt,Wt,!1,null,null,null),sa=oa.exports;d()(oa,{VApp:u["a"],VBtn:ue["a"],VCard:me["a"],VCardActions:ve["a"],VDivider:pe["a"],VIcon:fe["a"],VList:Be["a"],VListItem:Re["a"],VListItemAction:Fe["a"],VListItemAvatar:ea["a"],VListItemContent:Ue["a"],VListItemGroup:ta["a"],VListItemIcon:aa["a"],VListItemSubtitle:Ue["b"],VListItemTitle:Ue["c"],VMain:m["a"],VMenu:ia["a"],VNavigationDrawer:na["a"],VRow:ge["a"],VSpacer:xe["a"],VSubheader:Ee["a"],VTooltip:_e["a"]});var ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._v(e._s(e.person))]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"活动名称",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-subheader",[e._v("活动类型：")]),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-checkbox",{attrs:{label:"抽奖活动",color:"orange",value:"Lottery","hide-details":""},model:{value:e.activityType,callback:function(t){e.activityType=t},expression:"activityType"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"签到活动",color:"orange darken-3",value:"SingleAttendance","hide-details":""},model:{value:e.activityType,callback:function(t){e.activityType=t},expression:"activityType"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"连续签到活动",color:"orange darken-6",value:"SequentialAttendance","hide-details":""},model:{value:e.activityType,callback:function(t){e.activityType=t},expression:"activityType"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"Lottery"===this.activityType,expression:"this.activityType === 'Lottery'"}]},[a("v-row",{staticClass:"ml-1 mb-3"},[a("v-checkbox",{attrs:{label:"转盘",color:"orange",value:"Roulette","hide-details":""},model:{value:e.lotteryDisplay,callback:function(t){e.lotteryDisplay=t},expression:"lotteryDisplay"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"寻宝",color:"orange darken-3",value:"Digging","hide-details":""},model:{value:e.lotteryDisplay,callback:function(t){e.lotteryDisplay=t},expression:"lotteryDisplay"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"刮刮乐",color:"orange darken-6",value:"Scratchcard","hide-details":""},model:{value:e.lotteryDisplay,callback:function(t){e.lotteryDisplay=t},expression:"lotteryDisplay"}})],1)],1),a("v-subheader",[e._v("活动渠道：")]),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-checkbox",{attrs:{label:"ngs",color:"orange",value:"ngs","hide-details":""},model:{value:e.availableChannels,callback:function(t){e.availableChannels=t},expression:"availableChannels"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"ngsplaza",color:"orange darken-3",value:"ngsplaza","hide-details":""},model:{value:e.availableChannels,callback:function(t){e.availableChannels=t},expression:"availableChannels"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"alldays",color:"orange darken-6",value:"alldays","hide-details":""},model:{value:e.availableChannels,callback:function(t){e.availableChannels=t},expression:"availableChannels"}})],1),a("v-subheader",[e._v("活动设置：")]),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-text-field",{attrs:{label:"活动单日抽奖上限",required:""},model:{value:e.dailyDrawLimit,callback:function(t){e.dailyDrawLimit=t},expression:"dailyDrawLimit"}})],1),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-text-field",{attrs:{label:"活动单日兑换上限",required:""},model:{value:e.dailyRedemptionLimit,callback:function(t){e.dailyRedemptionLimit=t},expression:"dailyRedemptionLimit"}})],1),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-col",[a("v-color-picker",{model:{value:e.color,callback:function(t){e.color=t},expression:"color"}}),a("pre",[e._v(e._s(e.showColor))])],1)],1),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-text-field",{attrs:{label:"活动兑换积分",required:""},model:{value:e.requiredCreditForRedeeming,callback:function(t){e.requiredCreditForRedeeming=t},expression:"requiredCreditForRedeeming"}})],1),a("v-subheader",[e._v("时间设置：")]),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-checkbox",{attrs:{label:"开始时间",color:"orange",value:"st","hide-details":""},model:{value:e.timeType,callback:function(t){e.timeType=t},expression:"timeType"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"开始时间-结束时间",color:"orange darken-3",value:"st-et","hide-details":""},model:{value:e.timeType,callback:function(t){e.timeType=t},expression:"timeType"}})],1),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-col",{directives:[{name:"show",rawName:"v-show",value:"st"===this.timeType||"st-et",expression:"this.timeType === 'st' || 'st-et'"}],attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.startTime,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.startTime=t},"update:return-value":function(t){e.startTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"活动开始时间","prepend-icon":"mdi-calendar-blank",readonly:""},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},"v-text-field",n,!1),i))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.startTime)}}},[e._v("OK")])],1)],1)],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:"st-et"===this.timeType,expression:"this.timeType === 'st-et'"}],attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"return-value":e.endTime,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(t){e.endTime=t},"update:return-value":function(t){e.endTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"活动结束时间","prepend-icon":"mdi-calendar-blank",readonly:""},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}},"v-text-field",n,!1),i))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu2=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu2.save(e.endTime)}}},[e._v("OK")])],1)],1)],1)],1),a("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.reset}},[e._v(" 取 消 ")]),a("v-btn",{attrs:{color:"warning"},on:{click:e.addActivity}},[e._v(" 确 定 ")])],1)],1)},la=[],ca=(a("b680"),a("a434"),{name:"AddActivity",data:function(){return{person:"添加活动",userMsg:{},valid:!0,email:"",select:null,items:["Item 1","Item 2","Item 3","Item 4"],checkbox:!1,name:"",lotteryDisplay:"Roulette",availableChannels:[],activityType:"Lottery",timeType:"st",startTime:(new Date).toISOString().substr(0,10),menu:!1,endTime:null,menu2:!1,dailyDrawLimit:null,dailyRedemptionLimit:null,requiredCreditForRedeeming:null,types:["hex","hexa","rgba","hsla","hsva"],type:"hex",hex:"#FFFFFF",hexa:"#FF00FFFF",rgba:{r:255,g:0,b:255,a:1},hsla:{h:300,s:1,l:.5,a:1},hsva:{h:300,s:1,v:1,a:1},dialog:!1,headers:[{text:"奖励等级",align:"start",value:"level"},{text:"概率",value:"carbs"},{text:"奖励名称",value:"acid"},{text:"图片",value:"fat"},{text:"操作",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{level:"",acid:0,fat:null,carbs:0,protein:0,index:0},defaultItem:{level:"",acid:0,fat:0,carbs:0,protein:0,index:0},expanded:[],singleExpand:!0,channelCode:0}},created:function(){this.initialize()},computed:{formTitle:function(){return-1===this.editedIndex?"添加":"修改"},color:{get:function(){return this[this.type]},set:function(e){this[this.type]=e}},showColor:function(){var e=this;return"string"===typeof this.color?this.color:JSON.stringify(Object.keys(this.color).reduce((function(t,a){return t[a]=Number(e.color[a].toFixed(2)),t}),{}),null,2)}},watch:{dialog:function(e){e||this.close()}},methods:{addActivity:function(){var e=this;"Lottery"!==this.activityType&&(this.lotteryDisplay="None"),0!==this.dailyDrawLimit&&""!==this.dailyDrawLimit||(this.dailyDrawLimit=null),0!==this.dailyRedemptionLimit&&""!==this.dailyRedemptionLimit||(this.dailyRedemptionLimit=null),0!==this.requiredCreditForRedeeming&&""!==this.requiredCreditForRedeeming||(this.requiredCreditForRedeeming=null);var t={name:this.name,availableChannels:this.availableChannels,lotteryDisplay:this.lotteryDisplay,activityType:this.activityType,startTime:this.startTime,endTime:this.endTime,dailyDrawLimit:this.dailyDrawLimit,dailyRedemptionLimit:this.dailyRedemptionLimit,requiredCreditForRedeeming:this.requiredCreditForRedeeming,color:this.showColor};console.log(t),F(t).then((function(t){console.log(t),console.log(t.data.data.id);var a=t.data.data,i={id:a.id,name:a.name,availableChannels:a.availableChannels,lotteryDisplay:a.lotteryDisplay,startTime:a.startTime,endTime:a.endTime,dailyDrawLimit:a.dailyDrawLimit,dailyRedemptionLimit:a.dailyRedemptionLimit,requiredCreditForRedeeming:a.requiredCreditForRedeeming,color:e.showColor};e.$router.push({path:"/management/addPrizeTier",query:i})}))},validate:function(){},reset:function(){confirm("cancel")},resetValidation:function(){confirm("sure")},initialize:function(){this.desserts=[{level:"特等奖",acid:159,index:0},{level:"二等奖",acid:237,index:2},{level:"一等奖",acid:237,index:1},{level:"三等奖",acid:999,index:3}]},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this.desserts.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(t,1)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){"特等奖"===this.editedItem.level?this.editedItem.index=0:"一等奖"===this.editedItem.level?this.editedItem.index=1:"二等奖"===this.editedItem.level?this.editedItem.index=2:"三等奖"===this.editedItem.level&&(this.editedItem.index=3),this.editedIndex>-1?Object.assign(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close()}}}),da=ca,ua=a("03a4"),ma=a("2e4b"),va=Object(l["a"])(da,ra,la,!1,null,null,null),ha=va.exports;d()(va,{VBtn:ue["a"],VCheckbox:it["a"],VCol:he["a"],VColorPicker:ua["a"],VDatePicker:ma["a"],VForm:nt["a"],VMenu:ia["a"],VRow:ge["a"],VSpacer:xe["a"],VSubheader:Ee["a"],VTextField:ke["a"]});var pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._v(e._s(e.person))]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"商品名称",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-subheader",[e._v("商品类型：")]),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-checkbox",{attrs:{label:"积分奖励",color:"orange",value:"Credit","hide-details":""},model:{value:e.prizeType,callback:function(t){e.prizeType=t},expression:"prizeType"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"优惠券兑换码",color:"orange darken-3",value:"Coupon","hide-details":""},model:{value:e.prizeType,callback:function(t){e.prizeType=t},expression:"prizeType"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"实物奖励",color:"orange darken-6",value:"Physical","hide-details":""},model:{value:e.prizeType,callback:function(t){e.prizeType=t},expression:"prizeType"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"Credit"===this.prizeType,expression:"this.prizeType === 'Credit'"}]},[a("v-row",{staticClass:"ml-1 mb-3"},[a("v-text-field",{attrs:{label:"积分",required:""},model:{value:e.credit,callback:function(t){e.credit=t},expression:"credit"}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"Coupon"===this.prizeType,expression:"this.prizeType === 'Coupon'"}]},[a("v-row",{staticClass:"ml-1 mb-3"},[a("v-text-field",{attrs:{label:"优惠券兑换码",required:""},model:{value:e.couponActiveCode,callback:function(t){e.couponActiveCode=t},expression:"couponActiveCode"}})],1)],1),a("div",[a("v-row",{staticClass:"ml-1 mb-3"},[a("v-text-field",{attrs:{label:"库存",required:""},model:{value:e.stock,callback:function(t){e.stock=t},expression:"stock"}})],1)],1),a("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.reset}},[e._v(" 取 消 ")]),a("v-btn",{attrs:{color:"warning"},on:{click:e.addProd}},[e._v(" 确 定 ")])],1),a("v-snackbar",{attrs:{timeout:e.timeout,top:""},scopedSlots:e._u([{key:"action",fn:function(t){var i=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",i,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.text)+" ")])],1)},fa=[],ga={name:"AddProd",data:function(){return{snackbar:!1,text:"请输入正确手机号！",timeout:1500,person:"添加商品",userMsg:{},valid:!0,email:"",select:null,items:["Item 1","Item 2","Item 3","Item 4"],checkbox:!1,name:"",lotteryDisplay:"Roulette",availableChannels:[],prizeType:"Credit",timeType:"st",stock:null,startTime:(new Date).toISOString().substr(0,10),menu:!1,endTime:null,menu2:!1,dialog:!1,headers:[{text:"奖励等级",align:"start",value:"level"},{text:"概率",value:"carbs"},{text:"奖励名称",value:"acid"},{text:"图片",value:"fat"},{text:"操作",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{level:"",acid:0,fat:null,carbs:0,protein:0,index:0},defaultItem:{level:"",acid:0,fat:0,carbs:0,protein:0,index:0},expanded:[],singleExpand:!0,channelCode:0}},created:function(){this.initialize()},computed:{formTitle:function(){return-1===this.editedIndex?"添加":"修改"}},watch:{dialog:function(e){e||this.close()}},methods:{addProd:function(){var e=this;"Credit"!==this.prizeType&&(this.credit=null),"Coupon"!==this.prizeType&&(this.couponActiveCode=null),this.stock=Number(this.stock),0===this.stock&&(this.stock=null);var t={name:this.name,prizeType:this.prizeType,couponActiveCode:this.couponActiveCode,credit:this.credit,categoryName:"other",brandName:"other",stock:this.stock};console.log(t),K(t).then((function(t){console.log(t),e.snackbar=!0,e.text="添加商品成功",e.name="",e.prizeType="Credit",e.credit=0,e.stock=null}))},validate:function(){},reset:function(){confirm("cancel")},resetValidation:function(){confirm("sure")},initialize:function(){this.desserts=[{level:"特等奖",acid:159,index:0},{level:"二等奖",acid:237,index:2},{level:"一等奖",acid:237,index:1},{level:"三等奖",acid:999,index:3}]},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this.desserts.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(t,1)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){"特等奖"===this.editedItem.level?this.editedItem.index=0:"一等奖"===this.editedItem.level?this.editedItem.index=1:"二等奖"===this.editedItem.level?this.editedItem.index=2:"三等奖"===this.editedItem.level&&(this.editedItem.index=3),this.editedIndex>-1?Object.assign(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close()}}},ba=ga,ya=Object(l["a"])(ba,pa,fa,!1,null,null,null),xa=ya.exports;d()(ya,{VBtn:ue["a"],VCheckbox:it["a"],VForm:nt["a"],VRow:ge["a"],VSnackbar:ye["a"],VSubheader:Ee["a"],VTextField:ke["a"]});var ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-card",[a("v-card-title",[a("v-toolbar-title",[e._v("活动管理")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticStyle:{"margin-top":"-10px"},attrs:{headers:e.headers,items:e.desserts,"sort-by":"calories",search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("活动修改")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"活动名称"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"活动类型"},model:{value:e.editedItem.activityType,callback:function(t){e.$set(e.editedItem,"activityType",t)},expression:"editedItem.activityType"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"抽奖渠道"},model:{value:e.editedItem.availableChannels,callback:function(t){e.$set(e.editedItem,"availableChannels",t)},expression:"editedItem.availableChannels"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"抽奖方式"},model:{value:e.editedItem.lotteryDisplay,callback:function(t){e.$set(e.editedItem,"lotteryDisplay",t)},expression:"editedItem.lotteryDisplay"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"开始时间"},model:{value:e.editedItem.startTime,callback:function(t){e.$set(e.editedItem,"startTime",t)},expression:"editedItem.startTime"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"结束时间"},model:{value:e.editedItem.endTime,callback:function(t){e.$set(e.editedItem,"endTime",t)},expression:"editedItem.endTime"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:"Lottery"===i.activityType,expression:"item.activityType === 'Lottery'"}],staticClass:"mr-2",attrs:{color:"primary"},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",on:{click:function(t){return e.getAct(i)}}},[e._v(" mdi-clipboard-list ")]),a("v-icon",{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(t){return e.delAct(i)}}},[e._v(" mdi-delete ")])]}}])})],1),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.dialogProd,callback:function(t){e.dialogProd=t},expression:"dialogProd"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersProd,items:e.dessertsProd,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("添加活动档次 - 奖品")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",n,!1),i),[e._v("New Item")])]}}]),model:{value:e.dialogProdAdd,callback:function(t){e.dialogProdAdd=t},expression:"dialogProdAdd"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-col",[a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"活动档次"},model:{value:e.editedItemProd.name,callback:function(t){e.$set(e.editedItemProd,"name",t)},expression:"editedItemProd.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"活动概率"},model:{value:e.editedItemProd.percentage,callback:function(t){e.$set(e.editedItemProd,"percentage",t)},expression:"editedItemProd.percentage"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"单日上限"},model:{value:e.editedItemProd.dailyLimit,callback:function(t){e.$set(e.editedItemProd,"dailyLimit",t)},expression:"editedItemProd.dailyLimit"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-select",{attrs:{items:e.states,"item-text":"name","item-value":"id",label:"选择奖品",multiple:"",chips:"","persistent-hint":""},on:{change:function(t){return e.prizeItemChange(e.editedItemProd.prizeItemIds)}},model:{value:e.editedItemProd.prizeItemIds,callback:function(t){e.$set(e.editedItemProd,"prizeItemIds",t)},expression:"editedItemProd.prizeItemIds"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeProd}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveProd}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItemProd(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}}])})],1)],1)},_a=[],Ia=(a("25f0"),{name:"ManageActivity",data:function(){return{search:"",headers:[{text:"活动名称",align:"start",sortable:!1,value:"name"},{text:"活动类型",value:"activityTypeshow"},{text:"抽奖渠道",value:"availableChannels"},{text:"抽奖方式",value:"lotteryDisplayshow"},{text:"开始时间",value:"startTimeshow"},{text:"结束时间",value:"endTimeshow"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],startTime:(new Date).toISOString().substr(0,10),dialog:!1,editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},states:[],activityId:"",dialogProd:!1,dialogProdAdd:!1,headersProd:[{text:"活动档次",align:"start",sortable:!1,value:"name"},{text:"活动概率",value:"percentage"},{text:"活动奖品",value:"prizeItemNames"},{text:"操作",value:"actions",sortable:!1}],dessertsProd:[],editedIndexProd:-1,editedItemProd:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItemProd:{name:"",calories:0,fat:0,carbs:0,protein:0}}},created:function(){this.getActivityAva()},computed:{formTitle:function(){return-1===this.editedIndex?"添加新档次 - 商品":"修改新档次 - 商品"}},watch:{dialog:function(e){e||this.close()},dialogProd:function(e){e||this.closeProd()}},methods:{editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0,console.log(e)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){if(this.editedIndex>-1){Object.assign(this.desserts[this.editedIndex],this.editedItem),console.log(this.editedItem);var e=this.desserts[this.editedIndex];console.log(e),U(e).then((function(e){console.log(e)}))}else this.desserts.push(this.editedItem);this.close()},getActivityAva:function(){var e=this,t={StartTime:"1970-01-01",AvailableChannels:"ngs,ngsplaza,alldays"};t=JSON.stringify(t),t=JSON.parse(t),R(t).then((function(t){console.log(t),e.desserts=t.data.data;var a,i=t.data.data,n=Object(He["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value;console.log(o),"SingleAttendance"===o.activityType?o.activityTypeshow="单次签到活动":"SequentialAttendance"===o.activityType?o.activityTypeshow="连续签到活动":"Lottery"===o.activityType&&(o.activityTypeshow="抽奖活动"),null===o.lotteryDisplay||""===o.lotteryDisplay||"None"===o.lotteryDisplay?o.lotteryDisplayshow="无":"Roulette"===o.lotteryDisplay?o.lotteryDisplayshow="转盘":"Digging"===o.lotteryDisplay?o.lotteryDisplayshow="寻宝":"Scratchcard"===o.lotteryDisplay&&(o.lotteryDisplayshow="刮刮乐"),o.startTimeshow=o.startTime.substr(0,10),""===o.endTime||null===o.endTime?o.endTimeshow="无":o.endTimeshow=o.endTime.substr(0,10)}}catch(s){n.e(s)}finally{n.f()}}))},getAct:function(e){var t=this,a={id:e.id},i={ActivityId:e.id};this.activityId=e.id,B(a).then((function(e){console.log(e)})),ne(i).then((function(e){console.log(e.data.data);var a,i=e.data.data,n=Object(He["a"])(i);try{var o=function(){var e=a.value;e.prizeItemNames=[];var t={Ids:e.prizeItemIds.toString()};Z(t).then((function(t){var a,i=t.data.data,n=Object(He["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value;e.prizeItemNames.push(o.name)}}catch(s){n.e(s)}finally{n.f()}}))};for(n.s();!(a=n.n()).done;)o()}catch(s){n.e(s)}finally{n.f()}t.dessertsProd=e.data.data})),this.dialogProd=!0,this.getProd()},getProd:function(){var e=this,t={PageIndex:1,PageSize:50};Q(t).then((function(t){console.log(t.data.data);var a,i=t.data.data,n=Object(He["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value,s={name:o.name,id:o.id};e.states.push(s)}}catch(r){n.e(r)}finally{n.f()}}))},saveProd:function(){var e=this;if(this.editedIndexProd>-1){Object.assign(this.dessertsProd[this.editedIndexProd],this.editedItemProd);var t=this.dessertsProd[this.editedIndexProd];t.percentage=Number(t.percentage),t.dailyLimit=Number(t.dailyLimit),0===t.dailyLimit&&(t.dailyLimit=null),console.log(t),se(t).then((function(t){console.log(t),e.getAll()}))}else{var a=this.editedItemProd,i={name:a.name,percentage:Number(a.percentage),activityId:this.activityId,prizeItemIds:a.prizeItemIds,dailyLimit:Number(a.dailyLimit)};ae(i).then((function(t){console.log(t),e.getAll()}))}this.closeProd()},editItemProd:function(e){console.log(e),this.editedIndexProd=this.dessertsProd.indexOf(e),this.editedItemProd=Object.assign({},e),this.dialogProdAdd=!0},getAll:function(){var e=this,t={ActivityId:this.activityId};ne(t).then((function(t){if(t){var a,i=t.data.data,n=Object(He["a"])(i);try{var o=function(){var e=a.value;e.prizeItemNames=[];var t={Ids:e.prizeItemIds.toString()};Z(t).then((function(t){var a,i=t.data.data,n=Object(He["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value;e.prizeItemNames.push(o.name)}}catch(s){n.e(s)}finally{n.f()}}))};for(n.s();!(a=n.n()).done;)o()}catch(s){n.e(s)}finally{n.f()}e.dessertsProd=i}else e.dessertsProd=[]}))},deleteItem:function(e){var t=this;console.log(e);var a={id:e.id};oe(a).then((function(e){console.log(e),t.getAll()}))},closeProd:function(){var e=this;this.dialogProdAdd=!1,this.$nextTick((function(){e.editedItemProd=Object.assign({},e.defaultItemProd),e.editedIndexProd=-1}))},delAct:function(e){var t=this;console.log(e);var a={id:e.id};console.log(a),E(a).then((function(e){console.log(e),t.getActivityAva()}))}}}),wa=Ia,Ca=a("a523"),Ta=a("8fea"),Pa=a("2a7f"),Aa=Object(l["a"])(wa,ka,_a,!1,null,"3a197e78",null),Va=Aa.exports;d()(Aa,{VBtn:ue["a"],VCard:me["a"],VCardActions:ve["a"],VCardText:ve["c"],VCardTitle:ve["d"],VCol:he["a"],VContainer:Ca["a"],VDataTable:Ta["a"],VDialog:kt["a"],VDivider:pe["a"],VIcon:fe["a"],VRow:ge["a"],VSelect:ot["a"],VSpacer:xe["a"],VTextField:ke["a"],VToolbar:It["a"],VToolbarTitle:Pa["a"]});var za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-card",[a("v-card-title",[a("v-toolbar-title",[e._v("奖品管理")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticStyle:{"margin-top":"-10px"},attrs:{headers:e.headers,items:e.desserts,"sort-by":"calories",search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("更新商品")])]),a("v-card-text",[a("v-container",[a("v-col",[a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"商品名称"},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-select",{attrs:{items:e.prizeTpyeItems,label:"商品类型"},model:{value:e.editedItem.prizeType,callback:function(t){e.$set(e.editedItem,"prizeType",t)},expression:"editedItem.prizeType"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:"Coupon"===e.editedItem.prizeType,expression:"editedItem.prizeType === 'Coupon'"}],attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"优惠券兑换码"},model:{value:e.editedItem.couponActiveCode,callback:function(t){e.$set(e.editedItem,"couponActiveCode",t)},expression:"editedItem.couponActiveCode"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:"Credit"===e.editedItem.prizeType,expression:"editedItem.prizeType === 'Credit'"}],attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"积分"},model:{value:e.editedItem.credit,callback:function(t){e.$set(e.editedItem,"credit",t)},expression:"editedItem.credit"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"库存"},model:{value:e.editedItem.stock,callback:function(t){e.$set(e.editedItem,"stock",t)},expression:"editedItem.stock"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(t){return e.delAct(i)}}},[e._v(" mdi-delete ")])]}}])})],1)],1)},Sa=[],ja={name:"ManageProd",data:function(){return{search:"",headers:[{text:"商品名称",align:"start",sortable:!1,value:"name"},{text:"商品类型",value:"prizeTypeshow"},{text:"优惠券活动码",value:"couponActiveCodeshow"},{text:"积分",value:"creditshow"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],startTime:(new Date).toISOString().substr(0,10),dialog:!1,editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},prizeTpyeItems:["Credit","Coupon","Physical"]}},created:function(){this.getProd()},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(e){e||this.close()}},methods:{editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this.desserts.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(t,1)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;if(this.editedIndex>-1){Object.assign(this.desserts[this.editedIndex],this.editedItem),console.log("更改成功123"),console.log(this.desserts[this.editedIndex]);var t=this.desserts[this.editedIndex];"Credit"!==t.prizeType&&(t.credit=null),"Coupon"!==t.prizeType&&(t.couponActiveCode=null),t.stock=Number(t.stock),0===t.stock&&(t.stock=null);var a={id:t.id,name:t.name,prizeType:t.prizeType,couponActiveCode:t.couponActiveCode,credit:t.credit,categoryName:"other",brandName:"other",stock:t.stock};console.log(a),te(a).then((function(t){console.log(t.data),e.getProd()}))}else this.desserts.push(this.editedItem);this.close()},getProd:function(){var e=this,t={name:"积分"};G(t).then((function(e){console.log(e)}));var a={PageIndex:1,PageSize:50};Q(a).then((function(t){console.log(t.data.data),e.desserts=t.data.data;var a,i=Object(He["a"])(e.desserts);try{for(i.s();!(a=i.n()).done;){var n=a.value;console.log(n),"Credit"===n.prizeType?n.prizeTypeshow="积分商品":"Coupon"===n.prizeType?n.prizeTypeshow="优惠券兑换码":"Physical"===n.prizeType&&(n.prizeTypeshow="实物"),""===n.couponActiveCode||null===n.couponActiveCode?n.couponActiveCodeshow="无":n.couponActiveCodeshow=n.couponActiveCode,""===n.credit||null===n.credit?n.creditshow="无":n.creditshow=n.credit}}catch(o){i.e(o)}finally{i.f()}}))},delAct:function(e){var t=this,a={id:e.id};console.log(a),ee(a).then((function(e){console.log(e),t.getProd()}))}}},Oa=ja,Da=Object(l["a"])(Oa,za,Sa,!1,null,"e1aa047e",null),La=Da.exports;d()(Da,{VBtn:ue["a"],VCard:me["a"],VCardActions:ve["a"],VCardText:ve["c"],VCardTitle:ve["d"],VCol:he["a"],VContainer:Ca["a"],VDataTable:Ta["a"],VDialog:kt["a"],VDivider:pe["a"],VIcon:fe["a"],VSelect:ot["a"],VSpacer:xe["a"],VTextField:ke["a"],VToolbarTitle:Pa["a"]});var Na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[!0===this.login?a("v-row",{staticStyle:{position:"absolute",width:"60vw",height:"50vh",top:"calc(50% - 25vh)",left:"calc(50% - 30vw)"},attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6"}},[a("v-card",{ref:"form"},[a("v-card-title",{staticClass:"title font-weight-regular justify-space-between"},[a("span",[e._v("管理员登陆")])]),a("v-card-text",[a("v-text-field",{ref:"username",attrs:{label:"用户名",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("div",{staticClass:"flex-dir-row"},[a("v-text-field",{ref:"yan",attrs:{label:"密码"},model:{value:e.pwd,callback:function(t){e.pwd=t},expression:"pwd"}})],1)],1),a("v-divider",{staticClass:"mt-12"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.submit}},[e._v("登 录")])],1)],1)],1)],1):e._e(),a("v-snackbar",{attrs:{timeout:e.timeout,top:""},scopedSlots:e._u([{key:"action",fn:function(t){var i=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",i,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.text)+" ")]),!0===this.zhuce?a("v-row",{staticStyle:{position:"absolute",width:"60vw",height:"50vh",top:"calc(50% - 25vh)",left:"calc(50% - 30vw)"},attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6"}},[a("v-card",{ref:"form"},[a("v-card-title",{staticClass:"title font-weight-regular justify-space-between"},[a("span",[e._v("注 册")])]),a("v-card-text",[a("v-text-field",{ref:"username",attrs:{label:"用户名",required:""},model:{value:e.zc_username,callback:function(t){e.zc_username=t},expression:"zc_username"}}),a("div",{staticClass:"flex-dir-row"},[a("v-text-field",{ref:"yan",attrs:{label:"密码",rules:e.pwdRule,required:""},model:{value:e.zc_pwd,callback:function(t){e.zc_pwd=t},expression:"zc_pwd"}})],1),a("div",{staticClass:"flex-dir-row"},[a("v-text-field",{ref:"yan",attrs:{label:"确认密码",required:""},model:{value:e.zc_sure_pwd,callback:function(t){e.zc_sure_pwd=t},expression:"zc_sure_pwd"}})],1),a("div",[e._v("密码需包含大小写、数字和符号")])],1),a("v-divider",{staticClass:"mt-12"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.backBtn}},[e._v("返 回")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.zcBtn}},[e._v("注册并登录")])],1)],1)],1)],1):e._e()],1)])},$a=[],Ba={name:"MaLogin",data:function(){return{snackbar:!1,text:"请输入正确手机号！",timeout:1500,username:"",pwd:"",formHasErrors:!0,yanzheng:!1,getBtn:!0,timeBtn:!1,time:60,login:!0,zhuce:!1,zc_username:"",zc_pwd:"",zc_sure_pwd:"",pwdRule:[function(e){return e&&e.length>=6||"密码长度 > 6"}]}},computed:{form:function(){return{username:this.username,yan:this.yan}}},watch:{},methods:{bckBtn:function(){this.$router.push({path:"/login"})},backBtn:function(){this.zhuce=!1,this.login=!0},check_username_pwd:function(){this.username?this.pwd?this.yanzheng=!0:(this.snackbar=!0,this.text="请输入密码！"):(this.snackbar=!0,this.text="请输入用户名！")},resetForm:function(){var e=this;this.formHasErrors=!0,Object.keys(this.form).forEach((function(t){e.$refs[t].reset()}))},submit:function(){var e=this;if(this.yanzheng=!1,this.check_username_pwd(),this.yanzheng){console.log("成功");var t={client_id:"password",grant_type:"password",scope:"eplus.test.scope openid",username:this.username,password:this.pwd};C(t).then((function(t){console.log(t.data);var a={access_token:t.data.access_token};a=JSON.stringify(a),localStorage.setItem("token",a),T().then((function(t){if(t){console.log("userid:"),console.log(t);var a={userId:t.data.sub};a=JSON.stringify(a),localStorage.setItem("user",a),e.$router.push({path:"/management/manageActivity"})}}))}))}else console.log("验证失败")},zhuceBtn:function(){this.login=!1,this.zhuce=!0},zcBtn:function(){var e=this,t={client_id:"password",grant_type:"password",scope:"eplus.test.scope openid",username:"admin",password:"Pa$$w0rd"};console.log(t),C(t).then((function(t){var a={access_token:t.data.access_token};if(a=JSON.stringify(a),localStorage.setItem("token",a),e.zc_pwd===e.zc_sure_pwd){var i={userName:e.zc_username,password:e.zc_pwd,role:"manager"};X(i).then((function(t){console.log(t),e.username=e.zc_username,e.pwd=e.zc_pwd,e.submit()}))}else e.snackbar=!0,e.text="密码不一致！"}))}}},Ra=Ba,Fa=(a("e972"),Object(l["a"])(Ra,Na,$a,!1,null,"3fb97bcb",null)),Ua=Fa.exports;d()(Fa,{VBtn:ue["a"],VCard:me["a"],VCardActions:ve["a"],VCardText:ve["c"],VCardTitle:ve["d"],VCol:he["a"],VDivider:pe["a"],VRow:ge["a"],VSnackbar:ye["a"],VSpacer:xe["a"],VTextField:ke["a"]});var Ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._v(e._s(e.person))]),a("div",[e._v(e._s(e.activityId))]),a("v-app",{attrs:{id:"inspire"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersProd,items:e.dessertsProd,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[e._v("添加活动档次 - 奖品")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",n,!1),i),[e._v("New Item")])]}}]),model:{value:e.dialogProdAdd,callback:function(t){e.dialogProdAdd=t},expression:"dialogProdAdd"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-col",[a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"活动档次"},model:{value:e.editedItemProd.name,callback:function(t){e.$set(e.editedItemProd,"name",t)},expression:"editedItemProd.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"活动概率"},model:{value:e.editedItemProd.percentage,callback:function(t){e.$set(e.editedItemProd,"percentage",t)},expression:"editedItemProd.percentage"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"单日上限"},model:{value:e.editedItemProd.dailyLimit,callback:function(t){e.$set(e.editedItemProd,"dailyLimit",t)},expression:"editedItemProd.dailyLimit"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-select",{attrs:{items:e.states,"item-text":"name","item-value":"id",label:"选择奖品",multiple:"",chips:"","persistent-hint":""},on:{change:function(t){return e.prizeItemChange(e.editedItemProd.prizeItemIds)}},model:{value:e.editedItemProd.prizeItemIds,callback:function(t){e.$set(e.editedItemProd,"prizeItemIds",t)},expression:"editedItemProd.prizeItemIds"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeProd}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveProd}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",on:{click:function(t){return e.editItemProd(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}}])}),a("v-btn",{attrs:{color:"warning"},on:{click:e.sureBtn}},[e._v(" 确 定 ")]),a("v-snackbar",{attrs:{timeout:e.timeout,top:""},scopedSlots:e._u([{key:"action",fn:function(t){var i=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",i,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.text)+" ")])],1)],1)},Ma=[],qa={name:"AddPrizeTier",data:function(){return{snackbar:!1,text:"请输入正确手机号！",timeout:1500,person:"添加活动奖品",activityId:"",activityData:{},states:[],dialogProdAdd:!1,headersProd:[{text:"活动档次",align:"start",sortable:!1,value:"name"},{text:"活动概率",value:"percentage"},{text:"活动奖品",value:"prizeItemNames"},{text:"操作",value:"actions",sortable:!1}],dessertsProd:[],editedIndexProd:-1,editedItemProd:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItemProd:{name:"",calories:0,fat:0,carbs:0,protein:0}}},created:function(){this.getRoute(),this.getProd(),this.getAll()},computed:{formTitle:function(){return-1===this.editedIndexProd?"添加新档次 - 商品":"修改新档次 - 商品"}},watch:{dialog:function(e){e||this.closeProd()}},methods:{sureBtn:function(){this.$router.push({path:"/management/manageActivity"})},getAll:function(){var e=this,t={ActivityId:this.activityId};ne(t).then((function(t){if(t){var a,i=t.data.data,n=Object(He["a"])(i);try{var o=function(){var e=a.value;e.prizeItemNames=[];var t={Ids:e.prizeItemIds.toString()};Z(t).then((function(t){var a,i=t.data.data,n=Object(He["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value;e.prizeItemNames.push(o.name)}}catch(s){n.e(s)}finally{n.f()}}))};for(n.s();!(a=n.n()).done;)o()}catch(s){n.e(s)}finally{n.f()}e.dessertsProd=i}else e.dessertsProd=[]}))},prizeItemChange:function(e){console.log(e)},getProd:function(){var e=this,t={PageIndex:1,PageSize:50};Q(t).then((function(t){var a,i=t.data.data,n=Object(He["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value,s={name:o.name,id:o.id};e.states.push(s)}}catch(r){n.e(r)}finally{n.f()}}))},getRoute:function(){var e=this.$route;this.activityData=e.query,this.activityId=e.query.id},editItemProd:function(e){console.log(e),this.editedIndexProd=this.dessertsProd.indexOf(e),this.editedItemProd=Object.assign({},e),this.dialogProdAdd=!0},deleteItem:function(e){var t=this,a={id:e.id};oe(a).then((function(e){console.log(e),t.getAll()}))},closeProd:function(){var e=this;this.dialogProdAdd=!1,this.$nextTick((function(){e.editedItemProd=Object.assign({},e.defaultItemProd),e.editedIndexProd=-1}))},saveProd:function(){var e=this;if(this.editedIndexProd>-1){Object.assign(this.dessertsProd[this.editedIndexProd],this.editedItemProd);var t=this.dessertsProd[this.editedIndexProd];t.percentage=Number(t.percentage),t.dailyLimit=Number(t.dailyLimit),0===t.dailyLimit&&(t.dailyLimit=null),console.log(t),se(t).then((function(t){console.log(t),e.getAll(),e.snackbar=!0,e.text="修改成功"}))}else{var a=this.editedItemProd,i={name:a.name,percentage:Number(a.percentage),activityId:this.activityId,prizeItemIds:a.prizeItemIds,dailyLimit:Number(a.dailyLimit)};ae(i).then((function(t){console.log(t),e.getAll(),e.snackbar=!0,e.text="添加成功"}))}this.closeProd()}}},Ja=qa,Ya=Object(l["a"])(Ja,Ea,Ma,!1,null,null,null),Ha=Ya.exports;d()(Ya,{VApp:u["a"],VBtn:ue["a"],VCard:me["a"],VCardActions:ve["a"],VCardText:ve["c"],VCardTitle:ve["d"],VCol:he["a"],VContainer:Ca["a"],VDataTable:Ta["a"],VDialog:kt["a"],VDivider:pe["a"],VIcon:fe["a"],VSelect:ot["a"],VSnackbar:ye["a"],VSpacer:xe["a"],VTextField:ke["a"],VToolbar:It["a"],VToolbarTitle:Pa["a"]});var Xa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._v(e._s(e.person))]),a("v-col",{staticClass:"ml-1 mb-3"},[a("v-text-field",{ref:"username",attrs:{label:"用户名",required:""},model:{value:e.zc_username,callback:function(t){e.zc_username=t},expression:"zc_username"}}),a("div",{staticClass:"flex-dir-row"},[a("v-text-field",{ref:"yan",attrs:{label:"密码",rules:e.pwdRule,required:""},model:{value:e.zc_pwd,callback:function(t){e.zc_pwd=t},expression:"zc_pwd"}})],1),a("div",{staticClass:"flex-dir-row"},[a("v-text-field",{ref:"yan",attrs:{label:"确认密码",required:""},model:{value:e.zc_sure_pwd,callback:function(t){e.zc_sure_pwd=t},expression:"zc_sure_pwd"}})],1),a("div",[e._v("密码需包含大小写、数字和符号")])],1),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.zcBtn}},[e._v("注册")]),a("v-snackbar",{attrs:{timeout:e.timeout,top:""},scopedSlots:e._u([{key:"action",fn:function(t){var i=t.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",i,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.text)+" ")])],1)},Ka=[],Ga={name:"AddManager",data:function(){return{person:"添加管理员",zc_username:"",zc_pwd:"",zc_sure_pwd:"",snackbar:!1,text:"请输入正确手机号！",timeout:1500}},created:function(){},computed:{},watch:{},methods:{zcBtn:function(){var e=this;if(this.zc_pwd===this.zc_sure_pwd){var t={userName:this.zc_username,password:this.zc_pwd,role:"manager"};X(t).then((function(t){console.log(t),e.snackbar=!0,e.text="添加管理员成功",e.zc_username="",e.zc_pwd="",e.zc_sure_pwd=""}))}else this.snackbar=!0,this.text="密码不一致！"}}},Wa=Ga,Za=Object(l["a"])(Wa,Xa,Ka,!1,null,null,null),Qa=Za.exports;d()(Za,{VBtn:ue["a"],VCol:he["a"],VSnackbar:ye["a"],VSpacer:xe["a"],VTextField:ke["a"]});var ei=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-card",[a("v-card-title",[a("v-toolbar-title",[e._v("数据信息")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticStyle:{"margin-top":"-10px"},attrs:{headers:e.headers,items:e.desserts,"sort-by":"startTimeshow",search:e.search,"single-expand":e.singleExpand,expanded:e.expanded},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-dialog",{attrs:{"max-width":"80%"},model:{value:e.show1,callback:function(t){e.show1=t},expression:"show1"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("活动中奖详情")])]),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers_1,items:e.msg1}})],1)],1),a("v-dialog",{attrs:{"max-width":"80%"},model:{value:e.show2,callback:function(t){e.show2=t},expression:"show2"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("活动参与度")])]),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers_2,items:e.msg2}})],1)],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var i=t.headers,n=t.item;return[a("td",{attrs:{colspan:i.length}},[e._v("More info about "+e._s(n.name))])]}},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",on:{click:function(t){return e.showBtn1(i)}}},[e._v(" mdi-clipboard-list ")]),a("v-icon",{staticClass:"mr-2",on:{click:function(t){return e.showBtn2(i)}}},[e._v(" mdi-clipboard ")]),a("v-icon",{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(t){return e.delAct(i)}}},[e._v(" mdi-delete ")]),a("v-icon",{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(t){return e.download(i)}}},[e._v(" mdi-download ")])]}}])})],1)],1)},ti=[],ai=(a("2b3d"),{name:"ActivitySearch",data:function(){return{search:"",headers:[{text:"活动名称",align:"start",sortable:!1,value:"name"},{text:"活动类型",value:"activityTypeshow"},{text:"抽奖渠道",value:"availableChannels"},{text:"抽奖方式",value:"lotteryDisplayshow"},{text:"开始时间",value:"startTimeshow"},{text:"结束时间",value:"endTimeshow"},{text:"Actions",value:"actions",sortable:!1}],expanded:[],singleExpand:!0,desserts:[],msg1:[],msg2:[],startTime:(new Date).toISOString().substr(0,10),show1:!1,show2:!1,msg:[],headers_1:[{text:"活动名称",align:"start",sortable:!1,value:"activityName"},{text:"用户手机号",value:"phoneNumber"},{text:"抽奖渠道",value:"channelCode"},{text:"中奖名称",value:"prizeTierName"},{text:"奖励类型",value:"prizeTypeshow"},{text:"奖品内容",value:"prizeContent"}],headers_2:[{text:"日期",align:"start",sortable:!1,value:"dateTime"},{text:"抽奖数",value:"draws"},{text:"中奖数",value:"winners"},{text:"兑换数",value:"redemption"}]}},created:function(){this.getActivitylist()},computed:{},watch:{},methods:{getLocalStorageUser:function(){var e=localStorage.getItem("user");return e=JSON.parse(e),e},showBtn1:function(e){console.log(e),this.show1=!0,console.log(e.availableChannels[0]),this.msg.type=1,this.msg.Channel=e.availableChannels[0],this.msg.activityCode=e.activityCode,this.msg.startTime=e.startTimeshow,console.log(this.msg),this.getInfo(this.msg)},showBtn2:function(e){console.log(e),this.show2=!0,this.msg.type=2,this.msg.activityCode=e.activityCode,this.msg.channel=e.availableChannels[0],this.msg.startTime=e.startTimeshow,console.log(this.msg),this.getInfo(this.msg)},download:function(e){console.log(e);var t={StartTime:e.startTime,Channel:e.availableChannels[0],ActivityCode:e.activityCode};$(t).then((function(e){console.log(e);var t=window.URL.createObjectURL(e.data);console.log(t);var a=document.createElement("a");document.body.appendChild(a),a.href=t,a.download="测试图片",a.click(),window.URL.revokeObjectURL(t)})).catch((function(e){console.log(e.response)}))},getInfo:function(e){var t=this,a={StartTime:e.startTime,Channel:e.channel,ActivityCode:e.activityCode};console.log(a),1===e.type&&L(a).then((function(e){console.log(e),t.msg1=e.data.data;var a,i=e.data.data,n=Object(He["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value;console.log(o),"Credit"===o.prizeType?o.prizeTypeshow="积分":"Coupon"===o.prizeType?o.prizeTypeshow="优惠券兑换码":"Physical"===o.prizeType&&(o.prizeTypeshow="实物")}}catch(s){n.e(s)}finally{n.f()}})).catch((function(e){console.log(e)})),2===e.type&&N(a).then((function(e){console.log(e),t.msg2=e.data.data})).catch((function(e){console.log(e)}))},getActivitylist:function(){var e=this,t={StartTime:"2021-10-01",AvailableChannels:"ngs,ngsplaza,alldays,test"};R(t).then((function(t){console.log(t.data.data),e.desserts=t.data.data;var a,i=t.data.data,n=Object(He["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value;console.log(o),"SingleAttendance"===o.activityType?o.activityTypeshow="单次签到活动":"SequentialAttendance"===o.activityType?o.activityTypeshow="连续签到活动":"Lottery"===o.activityType&&(o.activityTypeshow="抽奖活动"),null===o.lotteryDisplay||""===o.lotteryDisplay||"None"===o.lotteryDisplay?o.lotteryDisplayshow="无":"Roulette"===o.lotteryDisplay?o.lotteryDisplayshow="转盘":"Digging"===o.lotteryDisplay?o.lotteryDisplayshow="寻宝":"Scratchcard"===o.lotteryDisplay&&(o.lotteryDisplayshow="刮刮乐"),o.startTimeshow=o.startTime.substr(0,10),""===o.endTime||null===o.endTime?o.endTimeshow="无":o.endTimeshow=o.endTime.substr(0,10)}}catch(s){n.e(s)}finally{n.f()}})).catch((function(e){console.log(e)}))}}}),ii=ai,ni=Object(l["a"])(ii,ei,ti,!1,null,"7490bb17",null),oi=ni.exports;d()(ni,{VCard:me["a"],VCardTitle:ve["d"],VDataTable:Ta["a"],VDialog:kt["a"],VDivider:pe["a"],VIcon:fe["a"],VSpacer:xe["a"],VTextField:ke["a"],VToolbarTitle:Pa["a"]});var si=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._v("添加文件")]),a("v-text-field",{attrs:{label:"文件名称",required:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}}),a("v-file-input",{attrs:{multiple:"",label:"File input"},model:{value:e.formfile,callback:function(t){e.formfile=t},expression:"formfile"}}),a("v-btn",{on:{click:e.sureBtn}},[e._v("确定")]),a("v-btn",{attrs:{text:"",small:""},on:{click:e.sureBtn}},[e._v("确定")]),a("v-btn",{attrs:{text:"",small:""},on:{click:e.getBtn}},[e._v("获取")]),a("v-flex",[a("v-btn",{attrs:{depressed:""},on:{click:e.upload}},[e._v(" Upload Image ")]),a("input",{ref:"upload",attrs:{type:"file",id:"upload",accept:".jpg, .jpeg, .png"},on:{change:e.changeimg}})],1)],1)},ri=[],li={name:"Filetest",data:function(){return{key:"",formfile:""}},computed:{},watch:{},methods:{sureBtn:function(){var e=new FormData;e.append("FormFile",this.formfile[0]),e.append("Key",this.key),e.append("OwnerId","08d9aeef-768e-4091-88a1-9971037f0375"),console.log(e),re(e).then((function(e){console.log(e)}))},upload:function(){var e=this.$refs.upload;e.click()},changeimg:function(e){return Object(St["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=new FormData,console.log(e.target.files[0]),a.append("file",e.target.files[0]),console.log(a),console.log("send");case 5:case"end":return t.stop()}}),t)})))()},getBtn:function(){var e={OwnerId:"08d9aeef-768e-4091-88a1-9971037f0375",Key:"1"};le(e).then((function(e){console.log(e);var t=window.URL.createObjectURL(e.data);console.log(t);var a=document.createElement("a");document.body.appendChild(a),a.href=t,a.download="测试图片",a.click(),window.URL.revokeObjectURL(t)}))}}},ci=li,di=(a("8741"),a("23a7")),ui=a("0e8f"),mi=Object(l["a"])(ci,si,ri,!1,null,"5429a1c7",null),vi=mi.exports;d()(mi,{VBtn:ue["a"],VFileInput:di["a"],VFlex:ui["a"],VTextField:ke["a"]}),i["a"].use(p["a"]);var hi=[{path:"/home",name:"Layout",component:Oe,children:[{path:"/home/person",name:"Person",component:qe},{path:"/home/ngs",name:"Ngs",component:Ct},{path:"/home/gua",name:"Gua",component:Mt},{path:"/home/zhuan",name:"Zhuan",component:Kt},{path:"/home/address",name:"Address",component:We},{path:"/home/addAddress",name:"addAddress",component:rt},{path:"/home/adward",name:"Adward",component:vt}]},{path:"/",redirect:"/login"},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/login",name:"Login",meta:{pagetitle:"登录"},component:we},{path:"/management",name:"management",component:sa,children:[{path:"/management/person",name:"Person",component:qe},{path:"/management/addActivity",name:"AddActivity",component:ha},{path:"/management/addprod",name:"AddProd",component:xa},{path:"/management/addManager",name:"AddManager",component:Qa},{path:"/management/addPrizeTier",name:"AddPrizeTier",component:Ha},{path:"/management/manageActivity",name:"ManageActivity",component:Va},{path:"/management/manageProd",name:"ManageProd",component:La},{path:"/management/activitySearch",name:"ActivitySearch",component:oi},{path:"/management/filetest",name:"Filetest",component:vi}]},{path:"/management/login",name:"MaLogin",component:Ua}],pi=new p["a"]({routes:hi}),fi=pi,gi=a("f309");i["a"].use(gi["a"]);var bi=new gi["a"]({});i["a"].config.productionTip=!1,new i["a"]({router:fi,vuetify:bi,render:function(e){return e(h)}}).$mount("#app")},"58a6":function(e,t,a){},"5ade":function(e,t,a){e.exports=a.p+"assets/img/info2.d492304c.jpg"},"5bb0":function(e,t,a){},"7e26":function(e,t,a){},"7fc3":function(e,t,a){},8741:function(e,t,a){"use strict";a("7e26")},"8b42":function(e,t,a){"use strict";a("7fc3")},"8f79":function(e,t,a){e.exports=a.p+"assets/img/11.7eff4873.jpg"},"904f":function(e,t,a){},cf05:function(e,t,a){e.exports=a.p+"assets/img/logo.82b9c7a5.png"},d416:function(e,t,a){},de67:function(e,t,a){e.exports=a.p+"assets/img/bk1.5492e8b6.jpg"},df3b:function(e,t,a){"use strict";a("d416")},e972:function(e,t,a){"use strict";a("58a6")},ef31:function(e,t,a){e.exports=a.p+"assets/img/22.23355c04.png"},fbac:function(e,t,a){}});
//# sourceMappingURL=app.8d542514.js.map