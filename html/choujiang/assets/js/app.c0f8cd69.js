(function(t){function e(e){for(var i,s,r=e[0],l=e[1],c=e[2],d=0,m=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},o=[];function s(t){return r.p+"assets/js/"+({about:"about"}[t]||t)+"."+{about:"2114c1c2"}[t]+".js"}function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,i){a=n[t]=[e,i]}));e.push(a[2]=i);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=s(t);var c=new Error;o=function(e){l.onerror=l.onload=null,clearTimeout(d);var a=n[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",c.name="ChunkLoadError",c.type=i,c.request=o,a[1](c)}n[t]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(e)},r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/choujiang/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1505:function(t,e,a){t.exports=a.p+"assets/img/gray.c3db2077.jpg"},"2ae2":function(t,e,a){"use strict";a("fbac")},3322:function(t,e,a){t.exports=a.p+"assets/img/1.bd56c4ca.jpg"},"35b8":function(t,e,a){"use strict";a("e7d6")},"3d96":function(t,e,a){t.exports=a.p+"assets/img/info.56df5e87.jpg"},"4cb4":function(t,e,a){"use strict";a("904f")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",[a("router-view")],1)],1)},o=[],s={name:"App",data:function(){return{}}},r=s,l=a("2877"),c=a("6544"),d=a.n(c),u=a("7496"),m=a("f6c4"),v=Object(l["a"])(r,n,o,!1,null,null,null),h=v.exports;d()(v,{VApp:u["a"],VMain:m["a"]});a("d3b7"),a("3ca3"),a("ddb0");var p=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("v-row",{staticStyle:{margin:"auto 0px"},attrs:{justify:"center"}},[a("v-col",[a("v-card",{ref:"form"},[a("v-card-title",{staticClass:"title font-weight-regular justify-space-between"},[a("span",[t._v("ç™»å½•/æ³¨å†Œ")])]),a("v-card-text",[a("v-text-field",{ref:"phone",attrs:{rules:t.rules,label:"æ‰‹æœºå·",required:""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),a("div",{staticClass:"flex-dir-row"},[a("v-text-field",{ref:"yan",attrs:{label:"éªŒè¯ç "},model:{value:t.yan,callback:function(e){t.yan=e},expression:"yan"}}),t.getBtn?a("v-btn",{staticStyle:{"margin-top":"15px"},attrs:{small:"",text:"",color:"primary"},on:{click:t.getBtnYan}},[t._v("èŽ·å–")]):t._e(),t.timeBtn?a("v-btn",{staticStyle:{"margin-top":"15px"},attrs:{disabled:!0,small:"",text:"",color:"primary"}},[t._v("é‡æ–°èŽ·å– "+t._s(t.time)+" s")]):t._e()],1),a("div",[t._v(t._s(t.msg_i))])],1),a("v-divider",{staticClass:"mt-12"}),a("v-card-actions",[a("v-spacer"),a("v-slide-x-reverse-transition",[t.formHasErrors?a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"my-0",attrs:{icon:""},on:{click:t.resetForm}},"v-btn",n,!1),i),[a("v-icon",[t._v("mdi-refresh")])],1)]}}],null,!1,522373079)},[a("span",[t._v("Refresh form")])]):t._e()],1),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.submit}},[t._v("ç™»å½•/æ³¨å†Œ")])],1)],1)],1)],1),a("v-snackbar",{attrs:{timeout:t.timeout,top:""},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[a("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)])},g=[],b=(a("159b"),a("b64b"),a("4c53"),a("bc3a")),y=a.n(b),x=y.a.create({timeout:3e4,baseURL:"http://localhost:52537"});x.interceptors.request.use((function(t){var e=JSON.parse(localStorage.getItem("token"));return e&&(t.headers.Authorization="Bearer "+e.access_token),t}),(function(t){return console.log(t),Promise.reject(t)})),x.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)}));var k=x,_=a("4328"),I=a.n(_);function w(t){return k({url:"/choujiang/api/sms",method:"post",data:t})}function C(t){return t=I.a.stringify(t),k({url:"/connect/token",method:"post",data:t})}function T(t){return k({url:"/connect/userinfo",method:"get",params:t})}function P(t){return k({url:"/choujiang/api/User",method:"get",params:t})}function V(t){return k({url:"/choujiang/api/User",method:"delete",data:t})}function A(t){return k({url:"/choujiang/api/Address/list",method:"get",params:t})}function z(t){return k({url:"/choujiang/api/Address",method:"post",data:t})}function S(t){return k({url:"/choujiang/api/Address",method:"put",data:t})}function j(t){return k({url:"/choujiang/api/Address",method:"delete",data:t})}function D(t){return k({url:"/choujiang/api/Lottery/winning-records",method:"get",params:t})}function O(t){return k({url:"/choujiang/api/Lottery",method:"post",data:t})}function L(t){return k({url:"/choujiang/api/Lottery/manager/detailed-records",method:"get",params:t})}function N(t){return k({url:"/choujiang/api/Lottery/manager/general-records",method:"get",params:t})}function $(t){return k({url:"/choujiang/api/Lottery/manager/excel",method:"get",params:t})}function B(t){return k({url:"/choujiang/api/Activity",method:"get",params:t})}function R(t){return k({url:"/choujiang/api/Activity/list",method:"get",params:t})}function F(t){return k({url:"/choujiang/api/Activity",method:"post",data:t})}function M(t){return k({url:"/choujiang/api/Activity",method:"delete",data:t})}function E(t){return k({url:"/choujiang/api/ActivityUser",method:"get",params:t})}function U(t){return k({url:"/choujiang/api/ActivityUser/activities",method:"get",params:t})}function q(t){return k({url:"/choujiang/api/ActivityUser/redeeming",method:"patch",data:t})}function J(t){return k({url:"/choujiang/api/Attendance",method:"post",data:t})}function Y(t){return k({url:"/choujiang/api/User",method:"post",data:t})}function H(t){return k({url:"/choujiang/api/PrizeItem",method:"post",data:t})}function X(t){return k({url:"/choujiang/api/PrizeItem/name",method:"get",params:t})}function G(t){return k({url:"/choujiang/api/PrizeItem",method:"get",params:t})}function W(t){return k({url:"/choujiang/api/PrizeItem/group",method:"get",params:t})}function K(t){return k({url:"/choujiang/api/PrizeItem/list",method:"get",params:t})}function Z(t){return k({url:"/choujiang/api/PrizeItem",method:"delete",data:t})}function Q(t){return k({url:"/choujiang/api/PrizeItem",method:"put",data:t})}function tt(t){return k({url:"/choujiang/api/PrizeTier",method:"post",data:t})}function et(t){return k({url:"/choujiang/api/PrizeTier",method:"get",params:t})}function at(t){return k({url:"/choujiang/api/PrizeTier/activity",method:"get",params:t})}function it(t){return k({url:"/choujiang/api/PrizeTier",method:"delete",data:t})}function nt(t){return k({url:"/choujiang/api/PrizeTier",method:"put",data:t})}var ot={name:"Login",data:function(){return{rules:[function(t){return!!t||"è¯·è¾“å…¥æ‰‹æœºå·ï¼."},function(t){return(t||"").length<=11||"è¶…è¿‡ä¸Šé™ï¼"}],snackbar:!1,text:"è¯·è¾“å…¥æ­£ç¡®æ‰‹æœºå·ï¼",timeout:1500,phone:"",yan:"",formHasErrors:!0,yanzhengma:!1,getBtn:!0,timeBtn:!1,time:60,login_channel:"",loading:!1,post:null,error:null,msg_i:""}},computed:{form:function(){return{phone:this.phone,yan:this.yan}}},created:function(){this.fetchData(),this.getLoginChannel()},watch:{$route:"fetchData"},methods:{getUserinfo:function(){var t=this,e=localStorage.getItem("user");e=JSON.parse(e);var a={userId:e.userId,login_channel:this.login_channel};a=JSON.stringify(a),localStorage.setItem("user",a);var i={UserId:e.userId,ChannelCode:e.login_channel};console.log(i),P(i).then((function(e){console.log("èŽ·å–åˆ°çš„ç”¨æˆ·æ•°æ®"),console.log(e),200===e.status&&t.$router.push({path:"/home/ngs"})}))},getLoginChannel:function(){this.login_channel="test",void 0===this.login_channel?this.$router.push({path:"/management/login"}):this.getUserinfo()},backBtn:function(){this.$router.push({path:"/management/login"})},getBtnYan:function(){this.getBtn=!1,this.timeBtn=!0,this.setTime(this.time);var t={phoneNumber:this.phone};w(t).then((function(t){console.log(t)}))},setTime:function(){if(0===this.time)return this.time=60,this.getBtn=!0,this.timeBtn=!1,!1;this.time--,setTimeout(this.setTime,1e3)},getPhone:function(){var t=this.phone,e=/^1(3|4|5|6|7|8|9)\d{9}$/.test(t);e?6!==this.yan.length?(this.snackbar=!0,this.text="è¯·è¾“å…¥æ­£ç¡®éªŒè¯ç ï¼"):this.yanzhengma=!0:(this.snackbar=!0,this.text="è¯·è¾“å…¥æ­£ç¡®æ‰‹æœºå·ï¼")},resetForm:function(){var t=this;this.formHasErrors=!0,Object.keys(this.form).forEach((function(e){t.$refs[e].reset()}))},submit:function(){var t=this;if(this.yanzhengma=!1,this.getPhone(),this.yanzhengma){console.log("æˆåŠŸ");var e={client_id:"sms.client",client_secret:"secret",grant_type:"sms",scope:"eplus.test.scope openid",phone_number:this.phone,token:this.yan,login_channel:this.login_channel};C(e).then((function(e){console.log(e.data);var a={access_token:e.data.access_token};a=JSON.stringify(a),localStorage.setItem("token",a),T().then((function(e){if(e){console.log("userid:"),console.log(e);var a={userId:e.data.sub,login_channel:t.login_channel};a=JSON.stringify(a),localStorage.setItem("user",a),t.$router.push({path:"/home/ngs"})}}))}))}else console.log("å¤±è´¥")},fetchData:function(){this.error=this.post=null,this.loading=!0,this.$route&&console.log(this.$route)}}},st=ot,rt=(a("35b8"),a("8336")),lt=a("b0af"),ct=a("99d9"),dt=a("62ad"),ut=a("ce7e"),mt=a("132d"),vt=a("0fd9"),ht=a("0789"),pt=a("2db4"),ft=a("2fa4"),gt=a("8654"),bt=a("3a2f"),yt=Object(l["a"])(st,f,g,!1,null,"492af56a",null),xt=yt.exports;d()(yt,{VBtn:rt["a"],VCard:lt["a"],VCardActions:ct["a"],VCardText:ct["c"],VCardTitle:ct["d"],VCol:dt["a"],VDivider:ut["a"],VIcon:mt["a"],VRow:vt["a"],VSlideXReverseTransition:ht["e"],VSnackbar:pt["a"],VSpacer:ft["a"],VTextField:gt["a"],VTooltip:bt["a"]});var kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{flat:"",dense:"",absolute:""}},[a("v-btn",{attrs:{icon:""},on:{click:t.backBtn}},[a("v-icon",[t._v("mdi-arrow-left")])],1),a("v-btn",{attrs:{icon:"",right:""}},[a("v-icon",[t._v("mdi-home")])],1)],1),a("v-main",[a("router-view")],1),a("v-footer",[a("v-bottom-navigation",{attrs:{grow:"",shift:"",fixed:""},model:{value:t.bottomNav,callback:function(e){t.bottomNav=e},expression:"bottomNav"}},[a("v-btn",{attrs:{value:"home"},on:{click:t.ngsBtn}},[a("span",[t._v("é¦–é¡µ")]),a("v-icon",[t._v("mdi-home")])],1),a("v-btn",{attrs:{value:"person"},on:{click:t.personBtn}},[a("span",[t._v("ä¸ªäººä¿¡æ¯")]),a("v-icon",[t._v("mdi-account")])],1)],1)],1)],1)},_t=[],It=(a("b0c0"),{name:"Layout",data:function(){return{bottomNav:"home",window:!0}},methods:{ngsBtn:function(){this.$router.push({path:"/home/ngs",params:{number:1}}),this.bottomNav="home"},personBtn:function(){this.$router.push({path:"/home/person"}),this.bottomNav="person"},backBtn:function(){this.$router.back();var t=this.$route;"Adward"===t.name||"Address"===t.name?this.bottomNav="person":"Person"===t.name?this.bottomNav="home":"Ngs"===t.name&&(this.bottomNav="person")}}}),wt=It,Ct=a("40dc"),Tt=a("b81c"),Pt=a("553a"),Vt=Object(l["a"])(wt,kt,_t,!1,null,null,null),At=Vt.exports;d()(Vt,{VApp:u["a"],VAppBar:Ct["a"],VBottomNavigation:Tt["a"],VBtn:rt["a"],VFooter:Pt["a"],VIcon:mt["a"],VMain:m["a"]});var zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-list",{staticClass:"mt-12",attrs:{"two-line":"",subheader:""}},[a("v-subheader",{attrs:{inset:""}},[t._v("ä¸ªäººèµ„æ–™")]),t._l(t.items,(function(e){return a("v-list-item",{key:e.title},[a("v-list-item-content",{on:{click:function(a){return t.itemBtn(e)}}},[a("v-list-item-title",{domProps:{textContent:t._s(e.title)}}),a("v-list-item-subtitle",{directives:[{name:"show",rawName:"v-show",value:"ä¸ªäººä¿¡æ¯"===e.title,expression:"item.title === 'ä¸ªäººä¿¡æ¯'"}]},[t._v("ç§¯åˆ†ï¼š"+t._s(e.subtitle))])],1),a("v-list-item-action",[0!==e.val?a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.itemBtn(e)}}},[a("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("mdi-information")])],1):t._e()],1)],1)}))],2)],1)},St=[],jt={name:"Person",data:function(){return{items:[{icon:"folder",iconClass:"grey lighten-1 white--text",title:"ä¸ªäººä¿¡æ¯",subtitle:"",val:0},{icon:"folder",iconClass:"grey lighten-1 white--text",title:"ä¸­å¥–è®°å½•",subtitle:"",val:1},{icon:"folder",iconClass:"grey lighten-1 white--text",title:"åœ°å€ç®¡ç†",subtitle:"",val:2}],person:"ä¸ªäººä¿¡æ¯",userMsg:{}}},created:function(){this.ifLogin(),this.getUserinfo()},methods:{attendance:function(t){console.log("ç­¾åˆ°ï¼š"),console.log(t);var e=this.getLocalStorageUser(),a={channelCode:"ngs",earnedCredits:0,reason:"ç­¾åˆ°",userId:e.userId,activityId:"3fa85f64-5717-4562-b3fc-2c963f66afa6"};console.log(a),J(a).then((function(t){console.log(t)}))},getUserinfo:function(){var t=this,e=this.getLocalStorageUser(),a={UserId:e.userId,ChannelCode:e.login_channel};console.log(a),P(a).then((function(e){console.log("èŽ·å–åˆ°çš„ç”¨æˆ·æ•°æ®"),console.log(e),t.items[0].subtitle=e.data.data.credit}))},ifLogin:function(){this.userMsg=JSON.parse(localStorage.getItem("token")),this.userMsg?this.userMsg&&console.log("ç™»å½•"):(this.userMsg={},this.$router.push({path:"/login"}))},itemBtn:function(t){console.log(t.val),2===t.val?this.$router.push({path:"/home/address"}):1===t.val&&this.$router.push({path:"/home/adward"})},getLocalStorageUser:function(){var t=localStorage.getItem("user");return t=JSON.parse(t),t}}},Dt=jt,Ot=a("8860"),Lt=a("da13"),Nt=a("1800"),$t=a("5d23"),Bt=a("e0c7"),Rt=Object(l["a"])(Dt,zt,St,!1,null,null,null),Ft=Rt.exports;d()(Rt,{VBtn:rt["a"],VIcon:mt["a"],VList:Ot["a"],VListItem:Lt["a"],VListItemAction:Nt["a"],VListItemContent:$t["a"],VListItemSubtitle:$t["b"],VListItemTitle:$t["c"],VSubheader:Bt["a"]});var Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t._v(t._s(t.person))]),a("v-list",{attrs:{"two-line":"",subheader:""}},[a("v-subheader",{attrs:{inset:""}},[t._v("é»˜è®¤åœ°å€")]),t._l(t.items2,(function(e){return a("v-list-item",{key:e.title},[a("v-list-item-content",{on:{click:function(a){return t.getAddressInfo(e)}}},[a("v-list-item-title",[t._v(t._s(e.recipient)+" "+t._s(e.recipientPhoneNumber))]),a("v-list-item-subtitle",[t._v(t._s(e.province)+" "+t._s(e.city)+" "+t._s(e.region))]),a("v-list-item-subtitle",[t._v(t._s(e.detailedAddress))])],1)],1)})),a("v-divider",{attrs:{inset:""}}),a("v-subheader",{attrs:{inset:""}},[t._v("æ‰€æœ‰åœ°å€")]),t._l(t.items,(function(e){return a("v-list-item",{key:e.title},[a("v-list-item-content",{on:{click:function(a){return t.getAddressInfo(e)}}},[a("v-list-item-title",[t._v(t._s(e.recipient)+" "+t._s(e.recipientPhoneNumber))]),a("v-list-item-subtitle",[t._v(t._s(e.province)+" "+t._s(e.city)+" "+t._s(e.region))])],1),a("v-list-item-content"),a("v-list-item-action",{staticStyle:{display:"flex","flex-direction":"row"}},[a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(a){return t.delAddBtn(e)}}},[t._v("mdi-trash-can")])],1),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{color:"grey lighten-1"},on:{click:function(a){return t.updateAddBtn(e)}}},[t._v("mdi-arrow-up")])],1)],1)],1)})),a("v-btn",{attrs:{width:"95%",rounded:""},on:{click:t.addBtn}},[t._v("æ·»åŠ åœ°å€")])],2)],1)},Et=[],Ut=a("b85c"),qt={name:"Address",data:function(){return{items:[],items2:[],person:"ä¸ªäººä¿¡æ¯",shuju:"",userMsg:{}}},created:function(){this.getAddUser()},methods:{getAddUser:function(){var t=this;this.items=[],this.items2=[];var e=localStorage.getItem("user");e=JSON.parse(e);var a={UserId:e.userId};console.log(a),A(a).then((function(e){console.log(e.data),t.items=e.data.data;var a,i=Object(Ut["a"])(e.data.data);try{for(i.s();!(a=i.n()).done;){var n=a.value;!0===n.isDefault&&t.items2.push(n)}}catch(o){i.e(o)}finally{i.f()}}))},getAddressInfo:function(t){console.log(t)},delAddBtn:function(t){var e=this;console.log("åˆ é™¤"),console.log(t);var a={id:t.id};console.log(a),j(a).then((function(t){console.log(t),e.getAddUser()}))},updateAddBtn:function(t){var e=this,a=t;a.isDefault=!0,console.log(a),S(a).then((function(t){console.log(t),e.getAddUser()}))},addBtn:function(){this.$router.push({path:"/home/addAddress"})}}},Jt=qt,Yt=Object(l["a"])(Jt,Mt,Et,!1,null,null,null),Ht=Yt.exports;d()(Yt,{VBtn:rt["a"],VDivider:ut["a"],VIcon:mt["a"],VList:Ot["a"],VListItem:Lt["a"],VListItemAction:Nt["a"],VListItemContent:$t["a"],VListItemSubtitle:$t["b"],VListItemTitle:$t["c"],VSubheader:Bt["a"]});var Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t._v(t._s(t.person))]),a("v-form",{ref:"form",staticStyle:{width:"80vw",margin:"0 auto"},attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{label:"å§“å",required:""},model:{value:t.recipient,callback:function(e){t.recipient=e},expression:"recipient"}}),a("v-text-field",{attrs:{label:"ç”µè¯å·ç ",required:""},model:{value:t.recipientPhoneNumber,callback:function(e){t.recipientPhoneNumber=e},expression:"recipientPhoneNumber"}}),a("div",[a("v-select",{attrs:{items:t.provinceArea,label:"è¯·é€‰æ‹©çœä»½",dense:"",outlined:""},on:{change:t.areaChange},model:{value:t.province,callback:function(e){t.province=e},expression:"province"}}),a("v-select",{attrs:{items:t.cityArea,label:"è¯·é€‰æ‹©å¸‚",dense:"",outlined:""},on:{change:t.areaChange2},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}}),a("v-select",{attrs:{items:t.regionArea,label:"è¯·é€‰æ‹©åŒº",dense:"",outlined:""},on:{change:t.areaChange3},model:{value:t.region,callback:function(e){t.region=e},expression:"region"}})],1),a("v-text-field",{attrs:{label:"è¯¦ç»†åœ°å€",required:""},model:{value:t.detailedAddress,callback:function(e){t.detailedAddress=e},expression:"detailedAddress"}}),a("v-text-field",{attrs:{label:"é‚®ç¼–",required:""},model:{value:t.postcode,callback:function(e){t.postcode=e},expression:"postcode"}}),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-checkbox",{attrs:{label:"æ˜¯å¦è®¾ç½®ä¸ºé»˜è®¤åœ°å€",color:"orange",value:"1","hide-details":""},model:{value:t.isDefault,callback:function(e){t.isDefault=e},expression:"isDefault"}})],1),a("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:t.reset}},[t._v(" å– æ¶ˆ ")]),a("v-btn",{attrs:{color:"warning"},on:{click:t.addBtn}},[t._v(" ç¡® å®š ")])],1)],1)},Gt=[],Wt=a("ef6c"),Kt={name:"Address",data:function(){return{person:"ä¸ªäººä¿¡æ¯",userMsg:{},valid:!0,address:null,items:["Item 1","Item 2","Item 3","Item 4"],checkbox:!1,recipient:"",recipientPhoneNumber:"",detailedAddress:"",postcode:"",area:Wt["regionData"],province:"",provinceArea:[],city:"",cityArea:[],region:"",regionArea:[],isDefault:"1"}},created:function(){this.showarea()},methods:{validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()},getLocalStorageUser:function(){var t=localStorage.getItem("user");return t=JSON.parse(t),t},addBtn:function(){var t=this,e=this.getLocalStorageUser(),a={recipient:this.recipient,recipientPhoneNumber:this.recipientPhoneNumber,province:this.province,city:this.city,region:this.region,detailedAddress:this.detailedAddress,postcode:this.postcode,userId:e.userId};"1"===this.isDefault&&(a.isDefault=!0),console.log(a),z(a).then((function(e){console.log(e),t.$router.back()}))},showarea:function(){var t,e=[],a=Object(Ut["a"])(this.area);try{for(a.s();!(t=a.n()).done;){var i=t.value;e.push(i.label)}}catch(n){a.e(n)}finally{a.f()}this.provinceArea=e},areaChange:function(){var t=[];this.c=[];var e,a=Object(Ut["a"])(this.area);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(this.province===i.label){var n,o=Object(Ut["a"])(i.children);try{for(o.s();!(n=o.n()).done;){var s=n.value;t.push(s.label),this.c.push(s)}}catch(r){o.e(r)}finally{o.f()}}}}catch(r){a.e(r)}finally{a.f()}this.cityArea=t,this.region=""},areaChange2:function(){var t,e=[],a=Object(Ut["a"])(this.c);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(this.city===i.label){var n,o=Object(Ut["a"])(i.children);try{for(o.s();!(n=o.n()).done;){var s=n.value;e.push(s.label)}}catch(r){o.e(r)}finally{o.f()}}}}catch(r){a.e(r)}finally{a.f()}this.regionArea=e},areaChange3:function(){console.log(this.province+"-"+this.city+"-"+this.region)}}},Zt=Kt,Qt=a("ac7c"),te=a("4bd4"),ee=a("b974"),ae=Object(l["a"])(Zt,Xt,Gt,!1,null,null,null),ie=ae.exports;d()(ae,{VBtn:rt["a"],VCheckbox:Qt["a"],VForm:te["a"],VRow:vt["a"],VSelect:ee["a"],VTextField:gt["a"]});var ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mr"},[a("v-list",{attrs:{"two-line":"",subheader:""}},[a("v-subheader",{attrs:{inset:""}},[t._v("åŽ†å²ä¸­å¥–è®°å½•")]),t._l(t.items,(function(e){return a("v-list-item",{key:e.title},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.activityName)}}),a("v-list-item-subtitle",[t._v(t._s(e.prizeTierName)+" - "+t._s(e.prizeItemName))])],1)],1)}))],2),a("v-snackbar",{attrs:{timeout:t.timeout,top:""},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[a("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},oe=[],se={name:"Adward",data:function(){return{items:[],person:"ä¸ªäººä¿¡æ¯",userMsg:{},snackbar:!1,text:"è¯·è¾“å…¥æ­£ç¡®æ‰‹æœºå·ï¼",timeout:1500}},created:function(){this.getLotteryWinningRecords()},methods:{getLotteryWinningRecords:function(){var t=this;this.items=[];var e=localStorage.getItem("user");e=JSON.parse(e);var a={UserId:e.userId};console.log(a),D(a).then((function(e){var a,i=e.data.data,n=Object(Ut["a"])(i);try{var o=function(){var e=a.value;console.log(e);var i={Id:e.prizeItemId},n={Id:e.prizeTierId},o={Id:e.activityId};G(i).then((function(a){var i=a.data.data;et(n).then((function(a){var n=a.data.data;B(o).then((function(a){var o=a.data.data,s={activityId:o.id,activityName:o.name,lotteryDisplay:o.lotteryDisplay,prizeTierId:n.id,prizeTierName:n.name,prizeItemId:i.id,prizeItemName:i.name,prizeType:i.prizeType,date:e.date,credit:i.credit,couponActiveCode:i.couponActiveCode};0===i.credit?console.log("ç§¯åˆ†ä¸º0"):(console.log("ç§¯åˆ†ä¸ä¸º0"),t.items.push(s))}))}))}))};for(n.s();!(a=n.n()).done;)o()}catch(s){n.e(s)}finally{n.f()}}))}}},re=se,le=(a("df3b"),Object(l["a"])(re,ne,oe,!1,null,"6f7bbb90",null)),ce=le.exports;d()(le,{VBtn:rt["a"],VList:Ot["a"],VListItem:Lt["a"],VListItemContent:$t["a"],VListItemSubtitle:$t["b"],VListItemTitle:$t["c"],VSnackbar:pt["a"],VSubheader:Bt["a"]});var de=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app",attrs:{id:"app"}},[i("v-row",{staticClass:"mt-12 mb-10",attrs:{dense:""}},[i("v-col",{attrs:{cols:"12"}},[i("v-card",{attrs:{color:"#f33245",dark:""}},[i("v-card-title",{staticClass:"headline"},[t._v("æ´»åŠ¨list")])],1)],1),t._l(t.items,(function(e,n){return i("v-col",{key:n,attrs:{cols:"12"}},[i("v-card",{attrs:{color:e.color,dark:""}},[i("div",{staticClass:"d-flex flex-no-wrap justify-space-between"},[i("div",[i("v-card-title",{staticClass:"headline",domProps:{textContent:t._s(e.name)}}),i("v-card-subtitle",{staticStyle:{"font-size":"14px"}},[t._v("å‰©ä½™æ´»åŠ¨æŠ½å¥–æ¬¡æ•°ï¼š"+t._s(e.remainingDraws))]),i("v-card-actions",[i("v-btn",{attrs:{elevation:4,text:""},on:{click:function(a){return t.openaddialog(e)}}},[t._v("å…‘æ¢æŠ½å¥–æ¬¡æ•°")]),i("v-btn",{attrs:{elevation:4,text:""},on:{click:function(a){return t.postBtn(e)}}},[t._v("æŠ½å¥–")])],1)],1),i("v-avatar",{staticClass:"ma-3",attrs:{size:"125",tile:""},on:{click:function(a){return t.activityBtn(e)}}},[i("v-img",{attrs:{src:a("3322")}})],1)],1)])],1)}))],2),i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:t.msg.color}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[i("v-icon",[t._v("mdi-close")])],1)],1),i("v-list",{attrs:{"three-line":"",subheader:""}},[i("v-img",{attrs:{src:a("3d96")}})],1)],1)],1),i("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.addialog,callback:function(e){t.addialog=e},expression:"addialog"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v("å…‘æ¢ç§¯åˆ†")]),i("v-card-text",[t._v("æ˜¯å¦æ¶ˆè€— "+t._s(t.at)+" ç§¯åˆ†å…‘æ¢æŠ½å¥–æ¬¡æ•°")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.addialog=!1}}},[t._v("å–æ¶ˆ")]),i("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.sBtn}},[t._v("ç¡®å®š")])],1)],1)],1),i("v-snackbar",{staticStyle:{"margin-top":"100px"},attrs:{timeout:t.timeout,top:""},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[i("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},ue=[],me=a("5a0c"),ve=a.n(me),he={name:"Playngs",data:function(){return{vm:{showDialog:!1},userMsg:{},wupin:[{id:1,name:"å¯ä¹",shu:100,weight:100},{id:2,name:"é›ªç¢§",shu:100,weight:100},{id:3,name:"é“…ç¬”",shu:50,weight:50},{id:4,name:"è®°äº‹æœ¬",shu:10,weight:10}],addward:"",personid:"",randomNum:0,randomNum2:0,randomMsg:"",items:[],dialog:!1,addialog:!1,addmsg:{},at:0,notifications:!1,sound:!0,widgets:!1,msg:{},info:[{name:"æ´»åŠ¨åç§°"}],colorItem:["#f33245","#f33245"],snackbar:!1,text:"è¯·è¾“å…¥æ­£ç¡®æ‰‹æœºå·ï¼",timeout:4e3}},created:function(){this.fetchData(),this.getActAvailable(),this.getUserinfo()},watch:{$route:"fetchData"},methods:{getLocalStorageUser:function(){var t=localStorage.getItem("user");return t=JSON.parse(t),t},postBtn:function(t){console.log("æŠ½å¥–"),console.log(t);var e=this.getLocalStorageUser();console.log(e);var a={channelCode:e.login_channel,lotteryDisplay:t.lotteryDisplay,userId:e.userId,activityId:t.activityId,count:1};console.log(a),this.$router.push({path:"/home/zhuan",query:a})},openaddialog:function(t){var e=this;this.addialog=!0,this.addmsg=t,console.log(t);var a={Id:t.activityId};B(a).then((function(t){console.log(t.data.data),e.at=t.data.data.requiredCreditForRedeeming}))},sBtn:function(){this.patchBtn(this.addmsg)},patchBtn:function(t){var e=this;console.log(t),console.log("å…‘æ¢æŠ½å¥–æ¬¡æ•°");var a=this.getLocalStorageUser(),i={activityId:t.activityId,userId:a.userId,channel:a.login_channel,count:1,unitPrice:t.requiredCreditForRedeeming,reason:"æŠ½å¥–å…‘æ¢æ¬¡æ•°"};console.log(i),q(i).then((function(t){console.log(t),e.getActAvailable(),e.addialog=!1})).catch((function(t){var a=t.response.data.errors;"Sorry, the user had already achieved the daily maximum number of redemption of this activity."===a&&(e.snackbar=!0,e.text="ä»Šæ—¥å·²è¾¾å…‘æ¢ä¸Šé™ï¼Œè¯·æ˜Žæ—¥å†æ¥",e.addialog=!1)}))},deleteUserBtn:function(){var t=this.getLocalStorageUser(),e={id:t.userId};console.log(e),V(e).then((function(t){console.log(t)}))},activityBtn:function(t){console.log(t),this.dialog=!0,this.msg=t},guaBtn:function(){this.$router.push({path:"/home/gua"})},closeBtn:function(){this.vm.showDialog=!1},dec:function(){var t=0;console.log(t)},startC:function(){var t,e=document.getElementById("pointer"),a=Math.floor(10*Math.random()+1);console.log(a),t=3600,e.style.transform="rotate("+t+"deg)",e.style.transition="all 4s ease 0.5s"},getLS:function(){T().then((function(t){if(t){console.log("userid:"),console.log(t);var e={userId:t.data.sub};e=JSON.stringify(e),localStorage.setItem("user",e)}else console.log("åˆ·æ–°")}))},getActAvailable:function(){var t=this;this.info=[];var e=this.getLocalStorageUser(),a=ve()().format("YYYY-MM-DD"),i={startTime:a,AvailableChannels:e.login_channel};i=JSON.stringify(i),i=JSON.parse(i),R(i).then((function(t){console.log(t.data.data)}));var n={UserId:e.userId,AvailableChannel:e.login_channel};U(n).then((function(e){console.log("ç”¨æˆ·æ‰€æœ‰æ´»åŠ¨ï¼š"),console.log(e.data.data);var a,i=Object(Ut["a"])(e.data.data);try{var n=function(){var e=a.value,i={Id:e.activityId};B(i).then((function(a){var i=a.data.data,n={activityId:i.id,name:i.name,availableChannels:i.availableChannels,activityType:i.activityType,lotteryDisplay:i.lotteryDisplay,startTime:i.startTime,endTime:i.endTime,activityCode:i.activityCode,userId:e.userId,usedDraws:e.usedDraws,todayUsedDraws:e.todayUsedDraws,remainingDraws:e.remainingDraws,attendanceDays:e.attendanceDays,sequentialAttendanceDays:e.sequentialAttendanceDays,lastAttendanceDate:e.lastAttendanceDate};t.info.push(n);var o=t.info.length,s=o%2;t.info[o-1].color=t.colorItem[s],t.items=t.info}))};for(i.s();!(a=i.n()).done;)n()}catch(o){i.e(o)}finally{i.f()}}))},getUserinfo:function(){var t=this.getLocalStorageUser(),e={UserId:t.userId,ChannelCode:t.login_channel};console.log(e),P(e).then((function(t){console.log("èŽ·å–åˆ°çš„ç”¨æˆ·æ•°æ®"),console.log(t)}))},getAdward:function(){var t=this.wupin,e=0,a=0;for(e;e<t.length;e++)a+=t[e].shu;var i=Math.floor(Math.random()*a)+1,n=0;for(e=0;e<t.length;e++)if(n+=t[e].shu,i<=n){this.addward=t[e].name;break}this.randomNum=i},getRandom:function(){var t=Math.floor(100*Math.random());this.randomNum2=t,t<=80?(this.randomMsg="æ²¡ä¸­å¥–...",this.randomNum=0,this.addward=""):t>80&&t<=100&&(this.randomMsg="ä¸­å¥–äº†ï¼",this.getAdward())},fetchData:function(){this.personid=this.$route.params.id}}},pe=he,fe=a("8212"),ge=a("169a"),be=a("adda"),ye=a("71d9"),xe=Object(l["a"])(pe,de,ue,!1,null,"a9f8f7d4",null),ke=xe.exports;d()(xe,{VAvatar:fe["a"],VBtn:rt["a"],VCard:lt["a"],VCardActions:ct["a"],VCardSubtitle:ct["b"],VCardText:ct["c"],VCardTitle:ct["d"],VCol:dt["a"],VDialog:ge["a"],VIcon:mt["a"],VImg:be["a"],VList:Ot["a"],VRow:vt["a"],VSnackbar:pt["a"],VSpacer:ft["a"],VToolbar:ye["a"]});var _e=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("h1",[t._v("A beautiful parrot got trapped behind some paper.")]),i("h2",[t._v("Scratch them free!")]),i("vue-scratchable",{attrs:{brushOptions:t.brush,hideOptions:t.hide,getPercentageCleared:""},on:{percentageUpdate:t.updatePoints},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.init;return[i("div",{staticClass:"wrapper"},[i("img",{attrs:{alt:"å›¾ç‰‡åŠ è½½ä¸­...",src:a("f80f")},on:{load:function(t){return n()}}}),i("h3",[t._v(t._s(t.subline))])])]}}])}),i("p",[t._v("You scratched "+t._s(t.percentage)+"% free.")])],1)},Ie=[],we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vue-scratchable-wrapper"},[t._t("default",null,{init:t.init}),a("canvas",{on:{mousedown:t.mouseDown,mousemove:t.mouseMove,touchstart:t.touchDown,touchmove:t.touchMove}})],2)},Ce=[],Te=a("3835"),Pe=a("1da1"),Ve=(a("96cf"),a("a9e3"),a("99af"),a("38cf"),a("b047")),Ae=a.n(Ve),ze={name:"VueScratchable",props:{brushOptions:{type:Object,default:function(){return{size:20,shape:"round"}}},hideOptions:{type:Object,default:function(){return{type:"color",value:"#dadada"}}},getPercentageCleared:{type:Boolean,default:!1},percentageStride:{type:Number,default:150}},data:function(){return{canvas:null,context:null,isPressed:!1,offset:{top:0,left:0},position:{currX:0,currY:0,lastX:0,lastY:0},observer:null,initFlag:!1}},mounted:function(){var t=this;this.canvas=this.$el.querySelector("canvas");var e=Ae()((function(){return t.init()}),200);this.observer=new MutationObserver((function(a){a.forEach((function(a){var i=a.attributeName;!t.initFlag&&i&&e()}))})),this.observer.observe(this.$el,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),window.addEventListener("mouseup",this.mouseUp,!1),window.addEventListener("touchend",this.touchUp,!1),window.addEventListener("touchcancel",this.touchUp,!1),this.init(),window.addEventListener("resize",Ae()(this.init,500))},destroyed:function(){window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("touchend",this.touchUp),window.removeEventListener("touchcancel",this.touchUp),window.removeEventListener("resize",Ae()(this.init,500)),this.observer.disconnect()},methods:{init:function(){var t=this;this.initFlag=!0,this.setCanvasSizeAndContext(),this.$nextTick((function(){return t.fillArea()}))},setCanvasSizeAndContext:function(){var t=this;this.$nextTick((function(){var e=t.$el.getBoundingClientRect(),a=e.width,i=e.height;t.canvas.width=Math.ceil(a),t.canvas.height=Math.ceil(i),t.context=t.canvas.getContext("2d")}))},setOffsets:function(){var t=this.canvas.getBoundingClientRect(),e=t.top,a=t.left;this.offset.top=e+document.body.scrollTop,this.offset.left=a+document.body.scrollLeft},fillArea:function(){var t=this;return Object(Pe["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.context.canvas,i=a.width,n=a.height,e.next=3,t.setFillStyle().catch((function(t){console.error(" Failed to load image!\n            Error: ".concat(t.name,"\n            Message: ").concat(t.message,"\n          "))}));case 3:t.context.fillRect(0,0,i,n),t.initFlag=!1;case 5:case"end":return e.stop()}}),e)})))()},setFillStyle:function(){var t=this,e=this.hideOptions,a=e.type,i=e.value,n=void 0===i?"":i,o=e.src,s=void 0===o?"":o,r=e.repeat,l=void 0===r?"":r;return this.context.globalCompositeOperation="source-over",new Promise("color"===a?function(e){return e(t.context.fillStyle=n)}:function(e,a){var i=new Image;i.onload=function(){t.context.fillStyle=t.context.createPattern(i,l),e(i)},i.onerror=function(t){return a(t)},i.src=s})},clearArea:function(){var t=this.context.canvas,e=t.width,a=t.height;this.context.globalCompositeOperation="destination-out",this.context.fillRect(0,0,e,a)},draw:function(){var t=this.position,e=t.currX,a=t.currY,i=t.lastX,n=t.lastY;this.context.beginPath(),this.context.globalCompositeOperation="destination-out",this.context.lineWidth=this.brushOptions.size,this.context.lineJoin=this.brushOptions.shape,this.context.moveTo(i,n),this.isPressed?this.context.lineTo(e,a):this.context.lineTo(e+.01,a+.01),this.context.closePath(),this.context.stroke(),this.lastPositionHelper(e,a),this.calculateClearedArea()},lastPositionHelper:function(t,e){this.position.lastX=t,this.position.lastY=e},currentPositionHelper:function(t,e){this.position.currX=t-this.offset.left,this.position.currY=e-this.offset.top},mouseDown:function(t){var e=t.clientX,a=t.clientY;this.setOffsets(),this.currentPositionHelper(e,a),this.lastPositionHelper(this.position.currX,this.position.currY),this.draw(),this.isPressed=!0},mouseMove:function(t){var e=t.clientX,a=t.clientY;this.isPressed&&(this.currentPositionHelper(e,a),this.draw())},mouseUp:function(){this.isPressed=!1},touchDown:function(t){var e=Object(Te["a"])(t.targetTouches,1),a=e[0],i=a.clientX,n=a.clientY;this.setOffsets(),this.currentPositionHelper(i,n),this.lastPositionHelper(this.position.currX,this.position.currY),this.draw(),this.isPressed=!0},touchMove:function(t){t.preventDefault();var e=Object(Te["a"])(t.targetTouches,1),a=e[0],i=a.clientX,n=a.clientY;this.currentPositionHelper(i,n),this.draw()},touchUp:function(){this.isPressed=!1},calculateClearedArea:function(){if(this.getPercentageCleared){for(var t=this.context.canvas,e=t.width,a=t.height,i=this.context.getImageData(0,0,e,a),n=i.data,o=i.data.length,s=o/this.percentageStride,r=0,l=r;l<o;l+=this.percentageStride)0===parseInt(n[l],10)&&(r+=1);this.$emit("percentage-update",Math.round(r/s*100))}}}},Se=ze,je=(a("4cb4"),Object(l["a"])(Se,we,Ce,!1,null,"047af992",null)),De=je.exports,Oe=a("1505"),Le=a.n(Oe),Ne={name:"Gua",components:{VueScratchable:De},computed:{subline:function(){return this.percentage<100?"ðŸŽ‰ There is still ".concat(100-this.percentage,"% left for me to be free... ðŸŽ‰"):"ðŸ’š Thank you for scratching me free! ðŸ’š"}},data:function(){return{percentage:0,hide:{type:"pattern",src:Le.a,repeat:"repeat"},brush:{size:60,shape:"round"}}},methods:{updatePoints:function(t){this.percentage=t}}},$e=Ne,Be=(a("8b42"),Object(l["a"])($e,_e,Ie,!1,null,null,null)),Re=Be.exports,Fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-12",style:t.note,attrs:{id:"app"}},[i("div",[t._v("å‰©ä½™æŠ½å¥–æ¬¡æ•°ï¼š"+t._s(t.a))]),i("div",{staticClass:"turnplate_box"},[i("div",{style:t.my1},[i("img",{staticClass:"hand",attrs:{id:"hand",src:a("c04e9"),alt:""},on:{click:t.startBtn}})])]),i("div",[i("img",{staticClass:"stb",attrs:{id:"stb",src:a("8451"),alt:""},on:{click:t.startBtn}})]),i("v-snackbar",{staticStyle:{"margin-top":"100px"},attrs:{timeout:t.timeout,top:""},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[i("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},Me=[],Ee={name:"Zhuan",computed:{},data:function(){return{a:0,angles:0,clickNum:5,rotNum:0,notice:null,color:["#3AA8A7","#FFD578","rgba(250,250,250,0.5)","#ffffff","#E64538","#FAE8CD"],info:["è°¢è°¢å‚ä¸Ž","1000","10","500","100","4999","1","20"],snackbar:!1,text:"è¯·è¾“å…¥æ­£ç¡®æ‰‹æœºå·ï¼",timeout:4e3,msg:"123",note:{backgroundImage:"url("+a("a6d8")+")",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",height:"100%"},my1:{backgroundImage:"url("+a("f276")+")",backgroundRepeat:"no-repeat",backgroundSize:"100% 95%",height:"100%",width:"100%"}}},mounted:function(){this.getData(),this.scr()},methods:{getData:function(){var t=this;console.log(this.$route.query);var e=this.$route.query,a={ActivityId:e.activityId},i={UserId:e.userId,ActivityId:e.activityId};E(i).then((function(e){console.log(e.data.data),t.a=e.data.data.remainingDraws})),at(a).then((function(e){console.log(e),t.info=e.data.data,console.log(t.info)}))},startBtn:function(){var t=this,e=this.$route.query;O(e).then((function(e){console.log("æŠ½å¥–ä¿¡æ¯ï¼š"),console.log(e.data.data[0]);var a=e.data.data[0],i={Id:a.prizeItemId},n={Id:a.prizeTierId};console.log(i),G(i).then((function(e){console.log("æŠ½ä¸­çš„å¥–åŠ±ï¼š"),console.log(e.data.data);var a=e.data.data;et(n).then((function(e){console.log("æŠ½ä¸­çš„æ¡£æ¬¡ï¼š"),console.log(e.data.data);var i=e.data.data;t.notice=i.name+" "+a.name;var n=i.id;t.runCup(n),t.rotNum=t.rotNum+1,setTimeout(t.show,6e3)}))}))})).catch((function(e){console.log(e.response);var a=e.response.data;400===a.statusCode&&("The user did not have enough chance to draw a lottery ."===a.errors&&(t.snackbar=!0,t.text="å‰©ä½™æŠ½å¥–æ¬¡æ•°ä¸º0ï¼Œè¯·å…ˆå…‘æ¢æŠ½å¥–æ¬¡æ•°"),"Sorry, the user had already achieved the daily maximum number of draws of this activity."===a.errors&&(t.snackbar=!0,t.text="ä»Šæ—¥å·²è¾¾æŠ½å¥–ä¸Šé™ï¼Œè¯·æ˜Žæ—¥å†æ¥"))}))},show:function(){this.snackbar=!0,this.text=this.notice},runCup:function(t){console.log(t),this.probability(t);var e="rotate("+this.angles+"deg)",a=document.getElementById("hand");a.style.transform=e,this.getData()},probability:function(t){console.log("å•†å“idï¼š"),console.log(t);var e,a=0,i=0,n=Object(Ut["a"])(this.info);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(console.log("a:"),console.log(a),t===o.id){i=a,console.log("num: "),console.log(i);break}a+=1}}catch(s){n.e(s)}finally{n.f()}0==i?(this.angles=2160*this.rotNum+1822.5,console.log(this.notice)):7==i?(this.angles=2160*this.rotNum+2137.5,console.log(this.notice)):6==i?(this.angles=2160*this.rotNum+2092.5,console.log(this.notice)):5==i?(this.angles=2160*this.rotNum+2047.5,console.log(this.notice)):4==i?(this.angles=2160*this.rotNum+2002.5,console.log(this.notice)):3==i?(this.angles=2160*this.rotNum+1957.5,console.log(this.notice)):2==i?(this.angles=2160*this.rotNum+1912.5,console.log(this.notice)):1==i&&(this.angles=2160*this.rotNum+1867.5,console.log(this.notice))},scr:function(){console.log(screen.width);var t=screen.width;this.ml=.3*t}}},Ue=Ee,qe=(a("2ae2"),Object(l["a"])(Ue,Fe,Me,!1,null,null,null)),Je=qe.exports;d()(qe,{VBtn:rt["a"],VSnackbar:pt["a"]});var Ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{absolute:"",permanent:"",width:"225px"}},[a("v-row",{staticClass:"fill-height",attrs:{"no-gutters":""}},[a("v-navigation-drawer",{attrs:{"mini-variant":"",permanent:"",src:t.bg,dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{staticClass:"py-0",attrs:{dense:""}},[a("v-list-item",{class:"px-0"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-list-item-avatar",t._g(t._b({staticStyle:{margin:"10px auto"},attrs:{dark:""}},"v-list-item-avatar",n,!1),i),[a("img",{attrs:{alt:"wutu",src:"https://randomuser.me/api/portraits/men/81.jpg"}})])]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",[a("img",{attrs:{src:"https://randomuser.me/api/portraits/men/81.jpg",alt:"John"}})]),a("v-list-item-content",[a("v-list-item-subtitle",[t._v("ç®¡ç†å‘˜")])],1),a("v-list-item-action",[a("v-btn",{class:t.fav?"red--text":"",attrs:{icon:""},on:{click:function(e){t.fav=!t.fav}}},[a("v-icon",[t._v("mdi-heart")])],1)],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:t.backBtn}},[t._v("é€€ å‡º")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.menu=!1}}},[t._v("å…³ é—­")])],1)],1)],1)],1),a("v-divider"),t._l(t.items,(function(e){return a("v-list-item",{key:e.title,attrs:{link:""}},[a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(i){var n=i.on,o=i.attrs;return[a("v-list-item-icon",t._g(t._b({attrs:{color:"primary",dark:""}},"v-list-item-icon",o,!1),n),[a("v-icon",{on:{click:function(a){return t.changeList(e)}}},[t._v(t._s(e.icon))])],1)]}}],null,!0)},[a("span",[t._v(t._s(e.title))])]),a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1)}))],2)],1),"ç”¨æˆ·ç®¡ç†"===this.submenu?a("v-list",{attrs:{dense:"",nav:""}},[a("v-subheader",{staticStyle:{"font-size":"17px","font-weight":"700"}},[t._v(t._s(this.submenu))]),a("v-list-item-group",{attrs:{color:"blue"},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},t._l(t.dashboardmenu,(function(e){return a("v-list-item",{key:e.subtitle},[a("v-list-item-icon",{on:{click:function(a){return t.routerClick(e)}}},[a("v-icon",{attrs:{medium:""}},[t._v("mdi-chevron-right")]),a("span",{staticStyle:{"font-size":"14px","line-height":"180%"}},[t._v(t._s(e.subtitle))])],1)],1)})),1)],1):t._e(),"æ´»åŠ¨ç®¡ç†"===this.submenu?a("v-list",{attrs:{dense:"",nav:""}},[a("v-subheader",{staticStyle:{"font-size":"17px","font-weight":"700"}},[t._v(t._s(this.submenu))]),a("v-list-item-group",{attrs:{color:"blue"},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},t._l(t.photosmenu,(function(e){return a("v-list-item",{key:e.subtitle},[a("v-list-item-icon",{on:{click:function(a){return t.routerClick(e)}}},[a("v-icon",{attrs:{medium:""}},[t._v("mdi-chevron-right")]),a("span",{staticStyle:{"font-size":"14px","line-height":"180%"}},[t._v(t._s(e.subtitle))])],1)],1)})),1)],1):t._e(),"å¥–å“ç®¡ç†"===this.submenu?a("v-list",{attrs:{dense:"",nav:""}},[a("v-subheader",{staticStyle:{"font-size":"17px","font-weight":"700"}},[t._v(t._s(this.submenu))]),a("v-list-item-group",{attrs:{color:"blue"},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}},t._l(t.aboutmenu,(function(e){return a("v-list-item",{key:e.subtitle},[a("v-list-item-icon",{on:{click:function(a){return t.routerClick(e)}}},[a("v-icon",{attrs:{medium:""}},[t._v("mdi-chevron-right")]),a("span",{staticStyle:{"font-size":"14px","line-height":"180%"}},[t._v(t._s(e.subtitle))])],1)],1)})),1)],1):t._e()],1)],1),a("v-main",{staticStyle:{"margin-left":"245px","margin-top":"20px"}},[a("router-view")],1)],1)},He=[],Xe={name:"Layout",data:function(){return{drawer:!0,items:[{title:"ç”¨æˆ·ç®¡ç†",icon:"mdi-view-dashboard"},{title:"æ´»åŠ¨ç®¡ç†",icon:"mdi-image"},{title:"å¥–å“ç®¡ç†",icon:"mdi-help-box"}],submenu:"æ´»åŠ¨ç®¡ç†",dashboardmenu:[{subtitle:"æ·»åŠ ç®¡ç†",id:"addManager"}],photosmenu:[{subtitle:"æ·»åŠ æ´»åŠ¨",id:"addActivity"},{subtitle:"æ´»åŠ¨ç®¡ç†",id:"manageActivity"},{subtitle:"æ´»åŠ¨æŸ¥è¯¢",id:"activitySearch"}],aboutmenu:[{subtitle:"æ·»åŠ å•†å“",id:"addProd"},{subtitle:"å¥–å“ç®¡ç†",id:"manageProd"}],miniVariant:!0,background:!0,item:[{text:"ç”¨æˆ·ç®¡ç†",disabled:!1,href:"breadcrumbs_dashboard"},{text:"Link 1",disabled:!1,href:"breadcrumbs_link_1"},{text:"Link 2",disabled:!0,href:"breadcrumbs_link_2"}],links:["Home","Contacts","Settings"],fav:!0,menu:!1,message:!1,hints:!0}},computed:{bg:function(){return this.background?"https://cdn.vuetifyjs.com/images/backgrounds/bg-2.jpg":void 0}},methods:{changeList:function(t){console.log(t.title),this.submenu=t.title},routerClick:function(t){if(console.log(t),t.id){console.log("1");var e="/management/"+t.id;console.log(e),this.$router.push({path:e})}},getUser:function(){T().then((function(t){console.log("ç”¨æˆ·ä¿¡æ¯ï¼š"),console.log(t)}))},backBtn:function(){this.$router.push({path:"/management/login"})}}},Ge=Xe,We=a("8270"),Ke=a("1baa"),Ze=a("34c3"),Qe=a("e449"),ta=a("f774"),ea=Object(l["a"])(Ge,Ye,He,!1,null,null,null),aa=ea.exports;d()(ea,{VApp:u["a"],VBtn:rt["a"],VCard:lt["a"],VCardActions:ct["a"],VDivider:ut["a"],VIcon:mt["a"],VList:Ot["a"],VListItem:Lt["a"],VListItemAction:Nt["a"],VListItemAvatar:We["a"],VListItemContent:$t["a"],VListItemGroup:Ke["a"],VListItemIcon:Ze["a"],VListItemSubtitle:$t["b"],VListItemTitle:$t["c"],VMain:m["a"],VMenu:Qe["a"],VNavigationDrawer:ta["a"],VRow:vt["a"],VSpacer:ft["a"],VSubheader:Bt["a"],VTooltip:bt["a"]});var ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t._v(t._s(t.person))]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{label:"æ´»åŠ¨åç§°",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-subheader",[t._v("æ´»åŠ¨ç±»åž‹ï¼š")]),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-checkbox",{attrs:{label:"æŠ½å¥–æ´»åŠ¨",color:"orange",value:"Lottery","hide-details":""},model:{value:t.activityType,callback:function(e){t.activityType=e},expression:"activityType"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"ç­¾åˆ°æ´»åŠ¨",color:"orange darken-3",value:"SingleAttendance","hide-details":""},model:{value:t.activityType,callback:function(e){t.activityType=e},expression:"activityType"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"è¿žç»­ç­¾åˆ°æ´»åŠ¨",color:"orange darken-6",value:"SequentialAttendance","hide-details":""},model:{value:t.activityType,callback:function(e){t.activityType=e},expression:"activityType"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"Lottery"===this.activityType,expression:"this.activityType === 'Lottery'"}]},[a("v-row",{staticClass:"ml-1 mb-3"},[a("v-checkbox",{attrs:{label:"è½¬ç›˜",color:"orange",value:"Roulette","hide-details":""},model:{value:t.lotteryDisplay,callback:function(e){t.lotteryDisplay=e},expression:"lotteryDisplay"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"å¯»å®",color:"orange darken-3",value:"Digging","hide-details":""},model:{value:t.lotteryDisplay,callback:function(e){t.lotteryDisplay=e},expression:"lotteryDisplay"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"åˆ®åˆ®ä¹",color:"orange darken-6",value:"Scratchcard","hide-details":""},model:{value:t.lotteryDisplay,callback:function(e){t.lotteryDisplay=e},expression:"lotteryDisplay"}})],1)],1),a("v-subheader",[t._v("æ´»åŠ¨æ¸ é“ï¼š")]),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-checkbox",{attrs:{label:"ngs",color:"orange",value:"ngs","hide-details":""},model:{value:t.availableChannels,callback:function(e){t.availableChannels=e},expression:"availableChannels"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"ngsplaza",color:"orange darken-3",value:"ngsplaza","hide-details":""},model:{value:t.availableChannels,callback:function(e){t.availableChannels=e},expression:"availableChannels"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"alldays",color:"orange darken-6",value:"alldays","hide-details":""},model:{value:t.availableChannels,callback:function(e){t.availableChannels=e},expression:"availableChannels"}})],1),a("v-subheader",[t._v("æ´»åŠ¨è®¾ç½®ï¼š")]),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-text-field",{attrs:{label:"æ´»åŠ¨å•æ—¥æŠ½å¥–ä¸Šé™",required:""},model:{value:t.dailyDrawLimit,callback:function(e){t.dailyDrawLimit=e},expression:"dailyDrawLimit"}})],1),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-text-field",{attrs:{label:"æ´»åŠ¨å•æ—¥å…‘æ¢ä¸Šé™",required:""},model:{value:t.dailyRedemptionLimit,callback:function(e){t.dailyRedemptionLimit=e},expression:"dailyRedemptionLimit"}})],1),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-col",[a("v-color-picker",{model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),a("pre",[t._v(t._s(t.showColor))])],1)],1),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-text-field",{attrs:{label:"æ´»åŠ¨å…‘æ¢ç§¯åˆ†",required:""},model:{value:t.requiredCreditForRedeeming,callback:function(e){t.requiredCreditForRedeeming=e},expression:"requiredCreditForRedeeming"}})],1),a("v-subheader",[t._v("æ—¶é—´è®¾ç½®ï¼š")]),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-checkbox",{attrs:{label:"å¼€å§‹æ—¶é—´",color:"orange",value:"st","hide-details":""},model:{value:t.timeType,callback:function(e){t.timeType=e},expression:"timeType"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"å¼€å§‹æ—¶é—´-ç»“æŸæ—¶é—´",color:"orange darken-3",value:"st-et","hide-details":""},model:{value:t.timeType,callback:function(e){t.timeType=e},expression:"timeType"}})],1),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-col",{directives:[{name:"show",rawName:"v-show",value:"st"===this.timeType||"st-et",expression:"this.timeType === 'st' || 'st-et'"}],attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.startTime,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.startTime=e},"update:return-value":function(e){t.startTime=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"æ´»åŠ¨å¼€å§‹æ—¶é—´","prepend-icon":"mdi-calendar-blank",readonly:""},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}},"v-text-field",n,!1),i))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.startTime)}}},[t._v("OK")])],1)],1)],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:"st-et"===this.timeType,expression:"this.timeType === 'st-et'"}],attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"return-value":t.endTime,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.endTime=e},"update:return-value":function(e){t.endTime=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"æ´»åŠ¨ç»“æŸæ—¶é—´","prepend-icon":"mdi-calendar-blank",readonly:""},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}},"v-text-field",n,!1),i))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu2=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu2.save(t.endTime)}}},[t._v("OK")])],1)],1)],1)],1),a("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:t.reset}},[t._v(" å– æ¶ˆ ")]),a("v-btn",{attrs:{color:"warning"},on:{click:t.addActivity}},[t._v(" ç¡® å®š ")])],1)],1)},na=[],oa=(a("b680"),a("a434"),{name:"AddActivity",data:function(){return{person:"æ·»åŠ æ´»åŠ¨",userMsg:{},valid:!0,email:"",select:null,items:["Item 1","Item 2","Item 3","Item 4"],checkbox:!1,name:"",lotteryDisplay:"Roulette",availableChannels:[],activityType:"Lottery",timeType:"st",startTime:(new Date).toISOString().substr(0,10),menu:!1,endTime:null,menu2:!1,dailyDrawLimit:null,dailyRedemptionLimit:null,requiredCreditForRedeeming:null,types:["hex","hexa","rgba","hsla","hsva"],type:"hex",hex:"#FFFFFF",hexa:"#FF00FFFF",rgba:{r:255,g:0,b:255,a:1},hsla:{h:300,s:1,l:.5,a:1},hsva:{h:300,s:1,v:1,a:1},dialog:!1,headers:[{text:"å¥–åŠ±ç­‰çº§",align:"start",value:"level"},{text:"æ¦‚çŽ‡",value:"carbs"},{text:"å¥–åŠ±åç§°",value:"acid"},{text:"å›¾ç‰‡",value:"fat"},{text:"æ“ä½œ",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{level:"",acid:0,fat:null,carbs:0,protein:0,index:0},defaultItem:{level:"",acid:0,fat:0,carbs:0,protein:0,index:0},expanded:[],singleExpand:!0,channelCode:0}},created:function(){this.initialize()},computed:{formTitle:function(){return-1===this.editedIndex?"æ·»åŠ ":"ä¿®æ”¹"},color:{get:function(){return this[this.type]},set:function(t){this[this.type]=t}},showColor:function(){var t=this;return"string"===typeof this.color?this.color:JSON.stringify(Object.keys(this.color).reduce((function(e,a){return e[a]=Number(t.color[a].toFixed(2)),e}),{}),null,2)}},watch:{dialog:function(t){t||this.close()}},methods:{addActivity:function(){var t=this;"Lottery"!==this.activityType&&(this.lotteryDisplay="None"),0===this.dailyDrawLimit&&(this.dailyDrawLimit=null),0===this.dailyRedemptionLimit&&(this.dailyRedemptionLimit=null),0===this.requiredCreditForRedeeming&&(this.requiredCreditForRedeeming=null);var e={name:this.name,availableChannels:this.availableChannels,lotteryDisplay:this.lotteryDisplay,activityType:this.activityType,startTime:this.startTime,endTime:this.endTime,dailyDrawLimit:this.dailyDrawLimit,dailyRedemptionLimit:this.dailyRedemptionLimit,requiredCreditForRedeeming:this.requiredCreditForRedeeming,color:this.showColor};console.log(e),F(e).then((function(e){console.log(e),console.log(e.data.data.id);var a=e.data.data,i={id:a.id,name:a.name,availableChannels:a.availableChannels,lotteryDisplay:a.lotteryDisplay,startTime:a.startTime,endTime:a.endTime,dailyDrawLimit:a.dailyDrawLimit,dailyRedemptionLimit:a.dailyRedemptionLimit,requiredCreditForRedeeming:a.requiredCreditForRedeeming,color:t.showColor};t.$router.push({path:"/management/addPrizeTier",query:i})}))},validate:function(){},reset:function(){confirm("cancel")},resetValidation:function(){confirm("sure")},initialize:function(){this.desserts=[{level:"ç‰¹ç­‰å¥–",acid:159,index:0},{level:"äºŒç­‰å¥–",acid:237,index:2},{level:"ä¸€ç­‰å¥–",acid:237,index:1},{level:"ä¸‰ç­‰å¥–",acid:999,index:3}]},editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1)},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){"ç‰¹ç­‰å¥–"===this.editedItem.level?this.editedItem.index=0:"ä¸€ç­‰å¥–"===this.editedItem.level?this.editedItem.index=1:"äºŒç­‰å¥–"===this.editedItem.level?this.editedItem.index=2:"ä¸‰ç­‰å¥–"===this.editedItem.level&&(this.editedItem.index=3),this.editedIndex>-1?Object.assign(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close()}}}),sa=oa,ra=a("03a4"),la=a("2e4b"),ca=Object(l["a"])(sa,ia,na,!1,null,null,null),da=ca.exports;d()(ca,{VBtn:rt["a"],VCheckbox:Qt["a"],VCol:dt["a"],VColorPicker:ra["a"],VDatePicker:la["a"],VForm:te["a"],VMenu:Qe["a"],VRow:vt["a"],VSpacer:ft["a"],VSubheader:Bt["a"],VTextField:gt["a"]});var ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t._v(t._s(t.person))]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{label:"å•†å“åç§°",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-subheader",[t._v("å•†å“ç±»åž‹ï¼š")]),a("v-row",{staticClass:"ml-1 mb-3"},[a("v-checkbox",{attrs:{label:"ç§¯åˆ†å¥–åŠ±",color:"orange",value:"Credit","hide-details":""},model:{value:t.prizeType,callback:function(e){t.prizeType=e},expression:"prizeType"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"ä¼˜æƒ åˆ¸å…‘æ¢ç ",color:"orange darken-3",value:"Coupon","hide-details":""},model:{value:t.prizeType,callback:function(e){t.prizeType=e},expression:"prizeType"}}),a("v-checkbox",{staticClass:"ml-5",attrs:{label:"å®žç‰©å¥–åŠ±",color:"orange darken-6",value:"Physical","hide-details":""},model:{value:t.prizeType,callback:function(e){t.prizeType=e},expression:"prizeType"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"Credit"===this.prizeType,expression:"this.prizeType === 'Credit'"}]},[a("v-row",{staticClass:"ml-1 mb-3"},[a("v-text-field",{attrs:{label:"ç§¯åˆ†",required:""},model:{value:t.credit,callback:function(e){t.credit=e},expression:"credit"}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"Coupon"===this.prizeType,expression:"this.prizeType === 'Coupon'"}]},[a("v-row",{staticClass:"ml-1 mb-3"},[a("v-text-field",{attrs:{label:"ä¼˜æƒ åˆ¸å…‘æ¢ç ",required:""},model:{value:t.couponActiveCode,callback:function(e){t.couponActiveCode=e},expression:"couponActiveCode"}})],1)],1),a("div",[a("v-row",{staticClass:"ml-1 mb-3"},[a("v-text-field",{attrs:{label:"åº“å­˜",required:""},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1)],1),a("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:t.reset}},[t._v(" å– æ¶ˆ ")]),a("v-btn",{attrs:{color:"warning"},on:{click:t.addProd}},[t._v(" ç¡® å®š ")])],1),a("v-snackbar",{attrs:{timeout:t.timeout,top:""},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[a("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},ma=[],va={name:"AddProd",data:function(){return{snackbar:!1,text:"è¯·è¾“å…¥æ­£ç¡®æ‰‹æœºå·ï¼",timeout:1500,person:"æ·»åŠ å•†å“",userMsg:{},valid:!0,email:"",select:null,items:["Item 1","Item 2","Item 3","Item 4"],checkbox:!1,name:"",lotteryDisplay:"Roulette",availableChannels:[],prizeType:"Credit",timeType:"st",stock:null,startTime:(new Date).toISOString().substr(0,10),menu:!1,endTime:null,menu2:!1,dialog:!1,headers:[{text:"å¥–åŠ±ç­‰çº§",align:"start",value:"level"},{text:"æ¦‚çŽ‡",value:"carbs"},{text:"å¥–åŠ±åç§°",value:"acid"},{text:"å›¾ç‰‡",value:"fat"},{text:"æ“ä½œ",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{level:"",acid:0,fat:null,carbs:0,protein:0,index:0},defaultItem:{level:"",acid:0,fat:0,carbs:0,protein:0,index:0},expanded:[],singleExpand:!0,channelCode:0}},created:function(){this.initialize()},computed:{formTitle:function(){return-1===this.editedIndex?"æ·»åŠ ":"ä¿®æ”¹"}},watch:{dialog:function(t){t||this.close()}},methods:{addProd:function(){var t=this;"Credit"!==this.prizeType&&(this.credit=null),"Coupon"!==this.prizeType&&(this.couponActiveCode=null),this.stock=Number(this.stock),0===this.stock&&(this.stock=null);var e={name:this.name,prizeType:this.prizeType,couponActiveCode:this.couponActiveCode,credit:this.credit,categoryName:"other",brandName:"other",stock:this.stock};console.log(e),H(e).then((function(e){console.log(e),t.snackbar=!0,t.text="æ·»åŠ å•†å“æˆåŠŸ",t.name="",t.prizeType="Credit",t.credit=0,t.stock=null}))},validate:function(){},reset:function(){confirm("cancel")},resetValidation:function(){confirm("sure")},initialize:function(){this.desserts=[{level:"ç‰¹ç­‰å¥–",acid:159,index:0},{level:"äºŒç­‰å¥–",acid:237,index:2},{level:"ä¸€ç­‰å¥–",acid:237,index:1},{level:"ä¸‰ç­‰å¥–",acid:999,index:3}]},editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1)},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){"ç‰¹ç­‰å¥–"===this.editedItem.level?this.editedItem.index=0:"ä¸€ç­‰å¥–"===this.editedItem.level?this.editedItem.index=1:"äºŒç­‰å¥–"===this.editedItem.level?this.editedItem.index=2:"ä¸‰ç­‰å¥–"===this.editedItem.level&&(this.editedItem.index=3),this.editedIndex>-1?Object.assign(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close()}}},ha=va,pa=Object(l["a"])(ha,ua,ma,!1,null,null,null),fa=pa.exports;d()(pa,{VBtn:rt["a"],VCheckbox:Qt["a"],VForm:te["a"],VRow:vt["a"],VSnackbar:pt["a"],VSubheader:Bt["a"],VTextField:gt["a"]});var ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-card",[a("v-card-title",[a("v-toolbar-title",[t._v("æ´»åŠ¨ç®¡ç†")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticStyle:{"margin-top":"-10px"},attrs:{headers:t.headers,items:t.desserts,"sort-by":"calories",search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("æ´»åŠ¨ä¿®æ”¹")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"æ´»åŠ¨åç§°"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"æ´»åŠ¨ç±»åž‹"},model:{value:t.editedItem.activityType,callback:function(e){t.$set(t.editedItem,"activityType",e)},expression:"editedItem.activityType"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"æŠ½å¥–æ¸ é“"},model:{value:t.editedItem.availableChannels,callback:function(e){t.$set(t.editedItem,"availableChannels",e)},expression:"editedItem.availableChannels"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"æŠ½å¥–æ–¹å¼"},model:{value:t.editedItem.lotteryDisplay,callback:function(e){t.$set(t.editedItem,"lotteryDisplay",e)},expression:"editedItem.lotteryDisplay"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"å¼€å§‹æ—¶é—´"},model:{value:t.editedItem.startTime,callback:function(e){t.$set(t.editedItem,"startTime",e)},expression:"editedItem.startTime"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"ç»“æŸæ—¶é—´"},model:{value:t.editedItem.endTime,callback:function(e){t.$set(t.editedItem,"endTime",e)},expression:"editedItem.endTime"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{directives:[{name:"show",rawName:"v-show",value:"Lottery"===i.activityType,expression:"item.activityType === 'Lottery'"}],staticClass:"mr-2",attrs:{color:"primary"},on:{click:function(e){return t.editItem(i)}}},[t._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",on:{click:function(e){return t.getAct(i)}}},[t._v(" mdi-clipboard-list ")]),a("v-icon",{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.delAct(i)}}},[t._v(" mdi-delete ")])]}}])})],1),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.dialogProd,callback:function(e){t.dialogProd=e},expression:"dialogProd"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersProd,items:t.dessertsProd,"sort-by":"calories"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("æ·»åŠ æ´»åŠ¨æ¡£æ¬¡ - å¥–å“")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",n,!1),i),[t._v("New Item")])]}}]),model:{value:t.dialogProdAdd,callback:function(e){t.dialogProdAdd=e},expression:"dialogProdAdd"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-col",[a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"æ´»åŠ¨æ¡£æ¬¡"},model:{value:t.editedItemProd.name,callback:function(e){t.$set(t.editedItemProd,"name",e)},expression:"editedItemProd.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"æ´»åŠ¨æ¦‚çŽ‡"},model:{value:t.editedItemProd.percentage,callback:function(e){t.$set(t.editedItemProd,"percentage",e)},expression:"editedItemProd.percentage"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"å•æ—¥ä¸Šé™"},model:{value:t.editedItemProd.dailyLimit,callback:function(e){t.$set(t.editedItemProd,"dailyLimit",e)},expression:"editedItemProd.dailyLimit"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-select",{attrs:{items:t.states,"item-text":"name","item-value":"id",label:"é€‰æ‹©å¥–å“",multiple:"",chips:"","persistent-hint":""},on:{change:function(e){return t.prizeItemChange(t.editedItemProd.prizeItemIds)}},model:{value:t.editedItemProd.prizeItemIds,callback:function(e){t.$set(t.editedItemProd,"prizeItemIds",e)},expression:"editedItemProd.prizeItemIds"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeProd}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.saveProd}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItemProd(i)}}},[t._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"red"},on:{click:function(e){return t.deleteItem(i)}}},[t._v(" mdi-delete ")])]}}])})],1)],1)},ba=[],ya=(a("25f0"),{name:"ManageActivity",data:function(){return{search:"",headers:[{text:"æ´»åŠ¨åç§°",align:"start",sortable:!1,value:"name"},{text:"æ´»åŠ¨ç±»åž‹",value:"activityTypeshow"},{text:"æŠ½å¥–æ¸ é“",value:"availableChannels"},{text:"æŠ½å¥–æ–¹å¼",value:"lotteryDisplayshow"},{text:"å¼€å§‹æ—¶é—´",value:"startTimeshow"},{text:"ç»“æŸæ—¶é—´",value:"endTimeshow"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],startTime:(new Date).toISOString().substr(0,10),dialog:!1,editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},states:[],activityId:"",dialogProd:!1,dialogProdAdd:!1,headersProd:[{text:"æ´»åŠ¨æ¡£æ¬¡",align:"start",sortable:!1,value:"name"},{text:"æ´»åŠ¨æ¦‚çŽ‡",value:"percentage"},{text:"æ´»åŠ¨å¥–å“",value:"prizeItemNames"},{text:"æ“ä½œ",value:"actions",sortable:!1}],dessertsProd:[],editedIndexProd:-1,editedItemProd:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItemProd:{name:"",calories:0,fat:0,carbs:0,protein:0}}},created:function(){this.getActivityAva()},computed:{formTitle:function(){return-1===this.editedIndex?"æ·»åŠ æ–°æ¡£æ¬¡ - å•†å“":"ä¿®æ”¹æ–°æ¡£æ¬¡ - å•†å“"}},watch:{dialog:function(t){t||this.close()},dialogProd:function(t){t||this.closeProd()}},methods:{editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0,console.log(t)},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){this.editedIndex>-1?Object.assign(this.desserts[this.editedIndex],this.editedItem):this.desserts.push(this.editedItem),this.close()},getActivityAva:function(){var t=this,e={StartTime:"1970-01-01",AvailableChannels:"ngs,ngsplaza,alldays"};e=JSON.stringify(e),e=JSON.parse(e),R(e).then((function(e){console.log(e),t.desserts=e.data.data;var a,i=e.data.data,n=Object(Ut["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value;console.log(o),"SingleAttendance"===o.activityType?o.activityTypeshow="å•æ¬¡ç­¾åˆ°æ´»åŠ¨":"SequentialAttendance"===o.activityType?o.activityTypeshow="è¿žç»­ç­¾åˆ°æ´»åŠ¨":"Lottery"===o.activityType&&(o.activityTypeshow="æŠ½å¥–æ´»åŠ¨"),null===o.lotteryDisplay||""===o.lotteryDisplay||"None"===o.lotteryDisplay?o.lotteryDisplayshow="æ— ":"Roulette"===o.lotteryDisplay?o.lotteryDisplayshow="è½¬ç›˜":"Digging"===o.lotteryDisplay?o.lotteryDisplayshow="å¯»å®":"Scratchcard"===o.lotteryDisplay&&(o.lotteryDisplayshow="åˆ®åˆ®ä¹"),o.startTimeshow=o.startTime.substr(0,10),""===o.endTime||null===o.endTime?o.endTimeshow="æ— ":o.endTimeshow=o.endTime.substr(0,10)}}catch(s){n.e(s)}finally{n.f()}}))},getAct:function(t){var e=this,a={id:t.id},i={ActivityId:t.id};this.activityId=t.id,B(a).then((function(t){console.log(t)})),at(i).then((function(t){console.log(t.data.data);var a,i=t.data.data,n=Object(Ut["a"])(i);try{var o=function(){var t=a.value;t.prizeItemNames=[];var e={Ids:t.prizeItemIds.toString()};W(e).then((function(e){var a,i=e.data.data,n=Object(Ut["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value;t.prizeItemNames.push(o.name)}}catch(s){n.e(s)}finally{n.f()}}))};for(n.s();!(a=n.n()).done;)o()}catch(s){n.e(s)}finally{n.f()}e.dessertsProd=t.data.data})),this.dialogProd=!0,this.getProd()},getProd:function(){var t=this,e={PageIndex:1,PageSize:50};K(e).then((function(e){console.log(e.data.data);var a,i=e.data.data,n=Object(Ut["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value,s={name:o.name,id:o.id};t.states.push(s)}}catch(r){n.e(r)}finally{n.f()}}))},saveProd:function(){var t=this;if(this.editedIndexProd>-1){Object.assign(this.dessertsProd[this.editedIndexProd],this.editedItemProd);var e=this.dessertsProd[this.editedIndexProd];e.percentage=Number(e.percentage),e.dailyLimit=Number(e.dailyLimit),0===e.dailyLimit&&(e.dailyLimit=null),console.log(e),nt(e).then((function(e){console.log(e),t.getAll()}))}else{var a=this.editedItemProd,i={name:a.name,percentage:Number(a.percentage),activityId:this.activityId,prizeItemIds:a.prizeItemIds,dailyLimit:Number(a.dailyLimit)};tt(i).then((function(e){console.log(e),t.getAll()}))}this.closeProd()},editItemProd:function(t){console.log(t),this.editedIndexProd=this.dessertsProd.indexOf(t),this.editedItemProd=Object.assign({},t),this.dialogProdAdd=!0},getAll:function(){var t=this,e={ActivityId:this.activityId};at(e).then((function(e){if(e){var a,i=e.data.data,n=Object(Ut["a"])(i);try{var o=function(){var t=a.value;t.prizeItemNames=[];var e={Ids:t.prizeItemIds.toString()};W(e).then((function(e){var a,i=e.data.data,n=Object(Ut["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value;t.prizeItemNames.push(o.name)}}catch(s){n.e(s)}finally{n.f()}}))};for(n.s();!(a=n.n()).done;)o()}catch(s){n.e(s)}finally{n.f()}t.dessertsProd=i}else t.dessertsProd=[]}))},deleteItem:function(t){var e=this;console.log(t);var a={id:t.id};it(a).then((function(t){console.log(t),e.getAll()}))},closeProd:function(){var t=this;this.dialogProdAdd=!1,this.$nextTick((function(){t.editedItemProd=Object.assign({},t.defaultItemProd),t.editedIndexProd=-1}))},delAct:function(t){var e=this;console.log(t);var a={id:t.id};console.log(a),M(a).then((function(t){console.log(t),e.getActivityAva()}))}}}),xa=ya,ka=a("a523"),_a=a("8fea"),Ia=a("2a7f"),wa=Object(l["a"])(xa,ga,ba,!1,null,"27322682",null),Ca=wa.exports;d()(wa,{VBtn:rt["a"],VCard:lt["a"],VCardActions:ct["a"],VCardText:ct["c"],VCardTitle:ct["d"],VCol:dt["a"],VContainer:ka["a"],VDataTable:_a["a"],VDialog:ge["a"],VDivider:ut["a"],VIcon:mt["a"],VRow:vt["a"],VSelect:ee["a"],VSpacer:ft["a"],VTextField:gt["a"],VToolbar:ye["a"],VToolbarTitle:Ia["a"]});var Ta=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-card",[a("v-card-title",[a("v-toolbar-title",[t._v("å¥–å“ç®¡ç†")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticStyle:{"margin-top":"-10px"},attrs:{headers:t.headers,items:t.desserts,"sort-by":"calories",search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("æ›´æ–°å•†å“")])]),a("v-card-text",[a("v-container",[a("v-col",[a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"å•†å“åç§°"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-select",{attrs:{items:t.prizeTpyeItems,label:"å•†å“ç±»åž‹"},model:{value:t.editedItem.prizeType,callback:function(e){t.$set(t.editedItem,"prizeType",e)},expression:"editedItem.prizeType"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:"Coupon"===t.editedItem.prizeType,expression:"editedItem.prizeType === 'Coupon'"}],attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"ä¼˜æƒ åˆ¸å…‘æ¢ç "},model:{value:t.editedItem.couponActiveCode,callback:function(e){t.$set(t.editedItem,"couponActiveCode",e)},expression:"editedItem.couponActiveCode"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:"Credit"===t.editedItem.prizeType,expression:"editedItem.prizeType === 'Credit'"}],attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"ç§¯åˆ†"},model:{value:t.editedItem.credit,callback:function(e){t.$set(t.editedItem,"credit",e)},expression:"editedItem.credit"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"åº“å­˜"},model:{value:t.editedItem.stock,callback:function(e){t.$set(t.editedItem,"stock",e)},expression:"editedItem.stock"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",on:{click:function(e){return t.editItem(i)}}},[t._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.delAct(i)}}},[t._v(" mdi-delete ")])]}}])})],1)],1)},Pa=[],Va={name:"ManageProd",data:function(){return{search:"",headers:[{text:"å•†å“åç§°",align:"start",sortable:!1,value:"name"},{text:"å•†å“ç±»åž‹",value:"prizeTypeshow"},{text:"ä¼˜æƒ åˆ¸æ´»åŠ¨ç ",value:"couponActiveCodeshow"},{text:"ç§¯åˆ†",value:"creditshow"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],startTime:(new Date).toISOString().substr(0,10),dialog:!1,editedIndex:-1,editedItem:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItem:{name:"",calories:0,fat:0,carbs:0,protein:0},prizeTpyeItems:["Credit","Coupon","Physical"]}},created:function(){this.getProd()},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()}},methods:{editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1)},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){var t=this;if(this.editedIndex>-1){Object.assign(this.desserts[this.editedIndex],this.editedItem),console.log("æ›´æ”¹æˆåŠŸ123"),console.log(this.desserts[this.editedIndex]);var e=this.desserts[this.editedIndex];"Credit"!==e.prizeType&&(e.credit=null),"Coupon"!==e.prizeType&&(e.couponActiveCode=null),e.stock=Number(e.stock),0===e.stock&&(e.stock=null);var a={id:e.id,name:e.name,prizeType:e.prizeType,couponActiveCode:e.couponActiveCode,credit:e.credit,categoryName:"other",brandName:"other",stock:e.stock};console.log(a),Q(a).then((function(e){console.log(e.data),t.getProd()}))}else this.desserts.push(this.editedItem);this.close()},getProd:function(){var t=this,e={name:"ç§¯åˆ†"};X(e).then((function(t){console.log(t)}));var a={PageIndex:1,PageSize:50};K(a).then((function(e){console.log(e.data.data),t.desserts=e.data.data;var a,i=Object(Ut["a"])(t.desserts);try{for(i.s();!(a=i.n()).done;){var n=a.value;console.log(n),"Credit"===n.prizeType?n.prizeTypeshow="ç§¯åˆ†å•†å“":"Coupon"===n.prizeType?n.prizeTypeshow="ä¼˜æƒ åˆ¸å…‘æ¢ç ":"Physical"===n.prizeType&&(n.prizeTypeshow="å®žç‰©"),""===n.couponActiveCode||null===n.couponActiveCode?n.couponActiveCodeshow="æ— ":n.couponActiveCodeshow=n.couponActiveCode,""===n.credit||null===n.credit?n.creditshow="æ— ":n.creditshow=n.credit}}catch(o){i.e(o)}finally{i.f()}}))},delAct:function(t){var e=this,a={id:t.id};console.log(a),Z(a).then((function(t){console.log(t),e.getProd()}))}}},Aa=Va,za=Object(l["a"])(Aa,Ta,Pa,!1,null,"e1aa047e",null),Sa=za.exports;d()(za,{VBtn:rt["a"],VCard:lt["a"],VCardActions:ct["a"],VCardText:ct["c"],VCardTitle:ct["d"],VCol:dt["a"],VContainer:ka["a"],VDataTable:_a["a"],VDialog:ge["a"],VDivider:ut["a"],VIcon:mt["a"],VSelect:ee["a"],VSpacer:ft["a"],VTextField:gt["a"],VToolbarTitle:Ia["a"]});var ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[!0===this.login?a("v-row",{staticStyle:{position:"absolute",width:"60vw",height:"50vh",top:"calc(50% - 25vh)",left:"calc(50% - 30vw)"},attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6"}},[a("v-card",{ref:"form"},[a("v-card-title",{staticClass:"title font-weight-regular justify-space-between"},[a("span",[t._v("ç®¡ç†å‘˜ç™»é™†")])]),a("v-card-text",[a("v-text-field",{ref:"username",attrs:{label:"ç”¨æˆ·å",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("div",{staticClass:"flex-dir-row"},[a("v-text-field",{ref:"yan",attrs:{label:"å¯†ç "},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}})],1)],1),a("v-divider",{staticClass:"mt-12"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.submit}},[t._v("ç™» å½•")])],1)],1)],1)],1):t._e(),a("v-snackbar",{attrs:{timeout:t.timeout,top:""},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[a("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")]),!0===this.zhuce?a("v-row",{staticStyle:{position:"absolute",width:"60vw",height:"50vh",top:"calc(50% - 25vh)",left:"calc(50% - 30vw)"},attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"10",md:"8",lg:"6"}},[a("v-card",{ref:"form"},[a("v-card-title",{staticClass:"title font-weight-regular justify-space-between"},[a("span",[t._v("æ³¨ å†Œ")])]),a("v-card-text",[a("v-text-field",{ref:"username",attrs:{label:"ç”¨æˆ·å",required:""},model:{value:t.zc_username,callback:function(e){t.zc_username=e},expression:"zc_username"}}),a("div",{staticClass:"flex-dir-row"},[a("v-text-field",{ref:"yan",attrs:{label:"å¯†ç ",rules:t.pwdRule,required:""},model:{value:t.zc_pwd,callback:function(e){t.zc_pwd=e},expression:"zc_pwd"}})],1),a("div",{staticClass:"flex-dir-row"},[a("v-text-field",{ref:"yan",attrs:{label:"ç¡®è®¤å¯†ç ",required:""},model:{value:t.zc_sure_pwd,callback:function(e){t.zc_sure_pwd=e},expression:"zc_sure_pwd"}})],1),a("div",[t._v("å¯†ç éœ€åŒ…å«å¤§å°å†™ã€æ•°å­—å’Œç¬¦å·")])],1),a("v-divider",{staticClass:"mt-12"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.backBtn}},[t._v("è¿” å›ž")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.zcBtn}},[t._v("æ³¨å†Œå¹¶ç™»å½•")])],1)],1)],1)],1):t._e()],1)])},Da=[],Oa={name:"MaLogin",data:function(){return{snackbar:!1,text:"è¯·è¾“å…¥æ­£ç¡®æ‰‹æœºå·ï¼",timeout:1500,username:"",pwd:"",formHasErrors:!0,yanzheng:!1,getBtn:!0,timeBtn:!1,time:60,login:!0,zhuce:!1,zc_username:"",zc_pwd:"",zc_sure_pwd:"",pwdRule:[function(t){return t&&t.length>=6||"å¯†ç é•¿åº¦ > 6"}]}},computed:{form:function(){return{username:this.username,yan:this.yan}}},watch:{},methods:{bckBtn:function(){this.$router.push({path:"/login"})},backBtn:function(){this.zhuce=!1,this.login=!0},check_username_pwd:function(){this.username?this.pwd?this.yanzheng=!0:(this.snackbar=!0,this.text="è¯·è¾“å…¥å¯†ç ï¼"):(this.snackbar=!0,this.text="è¯·è¾“å…¥ç”¨æˆ·åï¼")},resetForm:function(){var t=this;this.formHasErrors=!0,Object.keys(this.form).forEach((function(e){t.$refs[e].reset()}))},submit:function(){var t=this;if(this.yanzheng=!1,this.check_username_pwd(),this.yanzheng){console.log("æˆåŠŸ");var e={client_id:"password",grant_type:"password",scope:"eplus.test.scope openid",username:this.username,password:this.pwd};C(e).then((function(e){console.log(e.data);var a={access_token:e.data.access_token};a=JSON.stringify(a),localStorage.setItem("token",a),T().then((function(e){if(e){console.log("userid:"),console.log(e);var a={userId:e.data.sub};a=JSON.stringify(a),localStorage.setItem("user",a),t.$router.push({path:"/management/manageActivity"})}}))}))}else console.log("éªŒè¯å¤±è´¥")},zhuceBtn:function(){this.login=!1,this.zhuce=!0},zcBtn:function(){var t=this,e={client_id:"password",grant_type:"password",scope:"eplus.test.scope openid",username:"admin",password:"Pa$$w0rd"};console.log(e),C(e).then((function(e){var a={access_token:e.data.access_token};if(a=JSON.stringify(a),localStorage.setItem("token",a),t.zc_pwd===t.zc_sure_pwd){var i={userName:t.zc_username,password:t.zc_pwd,role:"manager"};Y(i).then((function(e){console.log(e),t.username=t.zc_username,t.pwd=t.zc_pwd,t.submit()}))}else t.snackbar=!0,t.text="å¯†ç ä¸ä¸€è‡´ï¼"}))}}},La=Oa,Na=(a("e972"),Object(l["a"])(La,ja,Da,!1,null,"3fb97bcb",null)),$a=Na.exports;d()(Na,{VBtn:rt["a"],VCard:lt["a"],VCardActions:ct["a"],VCardText:ct["c"],VCardTitle:ct["d"],VCol:dt["a"],VDivider:ut["a"],VRow:vt["a"],VSnackbar:pt["a"],VSpacer:ft["a"],VTextField:gt["a"]});var Ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t._v(t._s(t.person))]),a("div",[t._v(t._s(t.activityId))]),a("v-app",{attrs:{id:"inspire"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersProd,items:t.dessertsProd,"sort-by":"calories"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("æ·»åŠ æ´»åŠ¨æ¡£æ¬¡ - å¥–å“")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",n,!1),i),[t._v("New Item")])]}}]),model:{value:t.dialogProdAdd,callback:function(e){t.dialogProdAdd=e},expression:"dialogProdAdd"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",[a("v-col",[a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"æ´»åŠ¨æ¡£æ¬¡"},model:{value:t.editedItemProd.name,callback:function(e){t.$set(t.editedItemProd,"name",e)},expression:"editedItemProd.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"æ´»åŠ¨æ¦‚çŽ‡"},model:{value:t.editedItemProd.percentage,callback:function(e){t.$set(t.editedItemProd,"percentage",e)},expression:"editedItemProd.percentage"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-text-field",{attrs:{label:"å•æ—¥ä¸Šé™"},model:{value:t.editedItemProd.dailyLimit,callback:function(e){t.$set(t.editedItemProd,"dailyLimit",e)},expression:"editedItemProd.dailyLimit"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"8"}},[a("v-select",{attrs:{items:t.states,"item-text":"name","item-value":"id",label:"é€‰æ‹©å¥–å“",multiple:"",chips:"","persistent-hint":""},on:{change:function(e){return t.prizeItemChange(t.editedItemProd.prizeItemIds)}},model:{value:t.editedItemProd.prizeItemIds,callback:function(e){t.$set(t.editedItemProd,"prizeItemIds",e)},expression:"editedItemProd.prizeItemIds"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeProd}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.saveProd}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",on:{click:function(e){return t.editItemProd(i)}}},[t._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.deleteItem(i)}}},[t._v(" mdi-delete ")])]}}])}),a("v-btn",{attrs:{color:"warning"},on:{click:t.sureBtn}},[t._v(" ç¡® å®š ")]),a("v-snackbar",{attrs:{timeout:t.timeout,top:""},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[a("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)],1)},Ra=[],Fa={name:"AddPrizeTier",data:function(){return{snackbar:!1,text:"è¯·è¾“å…¥æ­£ç¡®æ‰‹æœºå·ï¼",timeout:1500,person:"æ·»åŠ æ´»åŠ¨å¥–å“",activityId:"",activityData:{},states:[],dialogProdAdd:!1,headersProd:[{text:"æ´»åŠ¨æ¡£æ¬¡",align:"start",sortable:!1,value:"name"},{text:"æ´»åŠ¨æ¦‚çŽ‡",value:"percentage"},{text:"æ´»åŠ¨å¥–å“",value:"prizeItemNames"},{text:"æ“ä½œ",value:"actions",sortable:!1}],dessertsProd:[],editedIndexProd:-1,editedItemProd:{name:"",calories:0,fat:0,carbs:0,protein:0},defaultItemProd:{name:"",calories:0,fat:0,carbs:0,protein:0}}},created:function(){this.getRoute(),this.getProd(),this.getAll()},computed:{formTitle:function(){return-1===this.editedIndexProd?"æ·»åŠ æ–°æ¡£æ¬¡ - å•†å“":"ä¿®æ”¹æ–°æ¡£æ¬¡ - å•†å“"}},watch:{dialog:function(t){t||this.closeProd()}},methods:{sureBtn:function(){this.$router.push({path:"/management/manageActivity"})},getAll:function(){var t=this,e={ActivityId:this.activityId};at(e).then((function(e){if(e){var a,i=e.data.data,n=Object(Ut["a"])(i);try{var o=function(){var t=a.value;t.prizeItemNames=[];var e={Ids:t.prizeItemIds.toString()};W(e).then((function(e){var a,i=e.data.data,n=Object(Ut["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value;t.prizeItemNames.push(o.name)}}catch(s){n.e(s)}finally{n.f()}}))};for(n.s();!(a=n.n()).done;)o()}catch(s){n.e(s)}finally{n.f()}t.dessertsProd=i}else t.dessertsProd=[]}))},prizeItemChange:function(t){console.log(t)},getProd:function(){var t=this,e={PageIndex:1,PageSize:50};K(e).then((function(e){var a,i=e.data.data,n=Object(Ut["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value,s={name:o.name,id:o.id};t.states.push(s)}}catch(r){n.e(r)}finally{n.f()}}))},getRoute:function(){var t=this.$route;this.activityData=t.query,this.activityId=t.query.id},editItemProd:function(t){console.log(t),this.editedIndexProd=this.dessertsProd.indexOf(t),this.editedItemProd=Object.assign({},t),this.dialogProdAdd=!0},deleteItem:function(t){var e=this,a={id:t.id};it(a).then((function(t){console.log(t),e.getAll()}))},closeProd:function(){var t=this;this.dialogProdAdd=!1,this.$nextTick((function(){t.editedItemProd=Object.assign({},t.defaultItemProd),t.editedIndexProd=-1}))},saveProd:function(){var t=this;if(this.editedIndexProd>-1){Object.assign(this.dessertsProd[this.editedIndexProd],this.editedItemProd);var e=this.dessertsProd[this.editedIndexProd];e.percentage=Number(e.percentage),e.dailyLimit=Number(e.dailyLimit),0===e.dailyLimit&&(e.dailyLimit=null),console.log(e),nt(e).then((function(e){console.log(e),t.getAll(),t.snackbar=!0,t.text="ä¿®æ”¹æˆåŠŸ"}))}else{var a=this.editedItemProd,i={name:a.name,percentage:Number(a.percentage),activityId:this.activityId,prizeItemIds:a.prizeItemIds,dailyLimit:Number(a.dailyLimit)};tt(i).then((function(e){console.log(e),t.getAll(),t.snackbar=!0,t.text="æ·»åŠ æˆåŠŸ"}))}this.closeProd()}}},Ma=Fa,Ea=Object(l["a"])(Ma,Ba,Ra,!1,null,null,null),Ua=Ea.exports;d()(Ea,{VApp:u["a"],VBtn:rt["a"],VCard:lt["a"],VCardActions:ct["a"],VCardText:ct["c"],VCardTitle:ct["d"],VCol:dt["a"],VContainer:ka["a"],VDataTable:_a["a"],VDialog:ge["a"],VDivider:ut["a"],VIcon:mt["a"],VSelect:ee["a"],VSnackbar:pt["a"],VSpacer:ft["a"],VTextField:gt["a"],VToolbar:ye["a"],VToolbarTitle:Ia["a"]});var qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t._v(t._s(t.person))]),a("v-col",{staticClass:"ml-1 mb-3"},[a("v-text-field",{ref:"username",attrs:{label:"ç”¨æˆ·å",required:""},model:{value:t.zc_username,callback:function(e){t.zc_username=e},expression:"zc_username"}}),a("div",{staticClass:"flex-dir-row"},[a("v-text-field",{ref:"yan",attrs:{label:"å¯†ç ",rules:t.pwdRule,required:""},model:{value:t.zc_pwd,callback:function(e){t.zc_pwd=e},expression:"zc_pwd"}})],1),a("div",{staticClass:"flex-dir-row"},[a("v-text-field",{ref:"yan",attrs:{label:"ç¡®è®¤å¯†ç ",required:""},model:{value:t.zc_sure_pwd,callback:function(e){t.zc_sure_pwd=e},expression:"zc_sure_pwd"}})],1),a("div",[t._v("å¯†ç éœ€åŒ…å«å¤§å°å†™ã€æ•°å­—å’Œç¬¦å·")])],1),a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.zcBtn}},[t._v("æ³¨å†Œ")]),a("v-snackbar",{attrs:{timeout:t.timeout,top:""},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[a("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")])],1)},Ja=[],Ya={name:"AddManager",data:function(){return{person:"æ·»åŠ ç®¡ç†å‘˜",zc_username:"",zc_pwd:"",zc_sure_pwd:"",snackbar:!1,text:"è¯·è¾“å…¥æ­£ç¡®æ‰‹æœºå·ï¼",timeout:1500}},created:function(){},computed:{},watch:{},methods:{zcBtn:function(){var t=this;if(this.zc_pwd===this.zc_sure_pwd){var e={userName:this.zc_username,password:this.zc_pwd,role:"manager"};Y(e).then((function(e){console.log(e),t.snackbar=!0,t.text="æ·»åŠ ç®¡ç†å‘˜æˆåŠŸ",t.zc_username="",t.zc_pwd="",t.zc_sure_pwd=""}))}else this.snackbar=!0,this.text="å¯†ç ä¸ä¸€è‡´ï¼"}}},Ha=Ya,Xa=Object(l["a"])(Ha,qa,Ja,!1,null,null,null),Ga=Xa.exports;d()(Xa,{VBtn:rt["a"],VCol:dt["a"],VSnackbar:pt["a"],VSpacer:ft["a"],VTextField:gt["a"]});var Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-btn",{on:{click:t.download}},[t._v("123")]),a("v-card",[a("v-card-title",[a("v-toolbar-title",[t._v("æ•°æ®ä¿¡æ¯")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticStyle:{"margin-top":"-10px"},attrs:{headers:t.headers,items:t.desserts,"sort-by":"startTimeshow",search:t.search,"single-expand":t.singleExpand,expanded:t.expanded},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-dialog",{attrs:{"max-width":"80%"},model:{value:t.show1,callback:function(e){t.show1=e},expression:"show1"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("æ´»åŠ¨ä¸­å¥–è¯¦æƒ…")])]),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers_1,items:t.msg1}})],1)],1),a("v-dialog",{attrs:{"max-width":"80%"},model:{value:t.show2,callback:function(e){t.show2=e},expression:"show2"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("æ´»åŠ¨å‚ä¸Žåº¦")])]),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers_2,items:t.msg2}})],1)],1)]},proxy:!0},{key:"expanded-item",fn:function(e){var i=e.headers,n=e.item;return[a("td",{attrs:{colspan:i.length}},[t._v("More info about "+t._s(n.name))])]}},{key:"item.actions",fn:function(e){var i=e.item;return[a("v-icon",{staticClass:"mr-2",on:{click:function(e){return t.showBtn1(i)}}},[t._v(" mdi-clipboard-list ")]),a("v-icon",{staticClass:"mr-2",on:{click:function(e){return t.showBtn2(i)}}},[t._v(" mdi-clipboard ")]),a("v-icon",{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.delAct(i)}}},[t._v(" mdi-delete ")])]}}])})],1)],1)},Ka=[],Za={name:"ActivitySearch",data:function(){return{search:"",headers:[{text:"æ´»åŠ¨åç§°",align:"start",sortable:!1,value:"name"},{text:"æ´»åŠ¨ç±»åž‹",value:"activityTypeshow"},{text:"æŠ½å¥–æ¸ é“",value:"availableChannels"},{text:"æŠ½å¥–æ–¹å¼",value:"lotteryDisplayshow"},{text:"å¼€å§‹æ—¶é—´",value:"startTimeshow"},{text:"ç»“æŸæ—¶é—´",value:"endTimeshow"},{text:"Actions",value:"actions",sortable:!1}],expanded:[],singleExpand:!0,desserts:[],msg1:[],msg2:[],startTime:(new Date).toISOString().substr(0,10),show1:!1,show2:!1,msg:[],headers_1:[{text:"æ´»åŠ¨åç§°",align:"start",sortable:!1,value:"activityName"},{text:"ç”¨æˆ·æ‰‹æœºå·",value:"phoneNumber"},{text:"æŠ½å¥–æ¸ é“",value:"channelCode"},{text:"ä¸­å¥–åç§°",value:"prizeTierName"},{text:"å¥–åŠ±ç±»åž‹",value:"prizeTypeshow"},{text:"å¥–å“å†…å®¹",value:"prizeContent"}],headers_2:[{text:"æ—¥æœŸ",align:"start",sortable:!1,value:"dateTime"},{text:"æŠ½å¥–æ•°",value:"draws"},{text:"ä¸­å¥–æ•°",value:"winners"},{text:"å…‘æ¢æ•°",value:"redemption"}]}},created:function(){this.getActivitylist()},computed:{},watch:{},methods:{getLocalStorageUser:function(){var t=localStorage.getItem("user");return t=JSON.parse(t),t},showBtn1:function(t){console.log(t),this.show1=!0,console.log(t.availableChannels[0]),this.msg.type=1,this.msg.Channel=t.availableChannels[0],this.msg.activityCode=t.activityCode,this.msg.startTime=t.startTimeshow,console.log(this.msg),this.getInfo(this.msg)},showBtn2:function(t){console.log(t),this.show2=!0,this.msg.type=2,this.msg.activityCode=t.activityCode,this.msg.channel=t.availableChannels[0],this.msg.startTime=t.startTimeshow,console.log(this.msg),this.getInfo(this.msg)},download:function(){var t={StartTime:"2021-10-01",EndTime:"2021-11-30",Channel:"ngsplaza",ActivityCode:"i65814592989"};$(t).then((function(t){console.log(t)})).catch((function(t){console.log(t.response)}))},getInfo:function(t){var e=this,a={StartTime:t.startTime,Channel:t.channel,ActivityCode:t.activityCode};console.log(a),1===t.type&&L(a).then((function(t){console.log(t),e.msg1=t.data.data;var a,i=t.data.data,n=Object(Ut["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value;console.log(o),"Credit"===o.prizeType?o.prizeTypeshow="ç§¯åˆ†":"Coupon"===o.prizeType?o.prizeTypeshow="ä¼˜æƒ åˆ¸å…‘æ¢ç ":"Physical"===o.prizeType&&(o.prizeTypeshow="å®žç‰©")}}catch(s){n.e(s)}finally{n.f()}})).catch((function(t){console.log(t)})),2===t.type&&N(a).then((function(t){console.log(t),e.msg2=t.data.data})).catch((function(t){console.log(t)}))},getActivitylist:function(){var t=this,e={StartTime:"2021-10-01",AvailableChannels:"ngs,ngsplaza,alldays,test"};R(e).then((function(e){console.log(e.data.data),t.desserts=e.data.data;var a,i=e.data.data,n=Object(Ut["a"])(i);try{for(n.s();!(a=n.n()).done;){var o=a.value;console.log(o),"SingleAttendance"===o.activityType?o.activityTypeshow="å•æ¬¡ç­¾åˆ°æ´»åŠ¨":"SequentialAttendance"===o.activityType?o.activityTypeshow="è¿žç»­ç­¾åˆ°æ´»åŠ¨":"Lottery"===o.activityType&&(o.activityTypeshow="æŠ½å¥–æ´»åŠ¨"),null===o.lotteryDisplay||""===o.lotteryDisplay||"None"===o.lotteryDisplay?o.lotteryDisplayshow="æ— ":"Roulette"===o.lotteryDisplay?o.lotteryDisplayshow="è½¬ç›˜":"Digging"===o.lotteryDisplay?o.lotteryDisplayshow="å¯»å®":"Scratchcard"===o.lotteryDisplay&&(o.lotteryDisplayshow="åˆ®åˆ®ä¹"),o.startTimeshow=o.startTime.substr(0,10),""===o.endTime||null===o.endTime?o.endTimeshow="æ— ":o.endTimeshow=o.endTime.substr(0,10)}}catch(s){n.e(s)}finally{n.f()}})).catch((function(t){console.log(t)}))}}},Qa=Za,ti=Object(l["a"])(Qa,Wa,Ka,!1,null,"17f29d52",null),ei=ti.exports;d()(ti,{VBtn:rt["a"],VCard:lt["a"],VCardTitle:ct["d"],VDataTable:_a["a"],VDialog:ge["a"],VDivider:ut["a"],VIcon:mt["a"],VSpacer:ft["a"],VTextField:gt["a"],VToolbarTitle:Ia["a"]}),i["a"].use(p["a"]);var ai=[{path:"/home",name:"Layout",component:At,children:[{path:"/home/person",name:"Person",component:Ft},{path:"/home/ngs",name:"Ngs",component:ke},{path:"/home/gua",name:"Gua",component:Re},{path:"/home/zhuan",name:"Zhuan",component:Je},{path:"/home/address",name:"Address",component:Ht},{path:"/home/addAddress",name:"addAddress",component:ie},{path:"/home/adward",name:"Adward",component:ce}]},{path:"/",redirect:"/login"},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/login",name:"Login",meta:{pagetitle:"ç™»å½•"},component:xt},{path:"/management",name:"management",component:aa,children:[{path:"/management/person",name:"Person",component:Ft},{path:"/management/addActivity",name:"AddActivity",component:da},{path:"/management/addprod",name:"AddProd",component:fa},{path:"/management/addManager",name:"AddManager",component:Ga},{path:"/management/addPrizeTier",name:"AddPrizeTier",component:Ua},{path:"/management/manageActivity",name:"ManageActivity",component:Ca},{path:"/management/manageProd",name:"ManageProd",component:Sa},{path:"/management/activitySearch",name:"ActivitySearch",component:ei}]},{path:"/management/login",name:"MaLogin",component:$a}],ii=new p["a"]({mode:"history",base:"/choujiang/",routes:ai}),ni=ii,oi=a("f309");i["a"].use(oi["a"]);var si=new oi["a"]({});i["a"].config.productionTip=!1,new i["a"]({router:ni,vuetify:si,render:function(t){return t(h)}}).$mount("#app")},"58a6":function(t,e,a){},"7fc3":function(t,e,a){},8451:function(t,e,a){t.exports=a.p+"assets/img/4.f12e0a49.png"},"8b42":function(t,e,a){"use strict";a("7fc3")},"904f":function(t,e,a){},a6d8:function(t,e,a){t.exports=a.p+"assets/img/bk.146811df.jpg"},c04e9:function(t,e,a){t.exports=a.p+"assets/img/2.72b8c838.png"},d416:function(t,e,a){},df3b:function(t,e,a){"use strict";a("d416")},e7d6:function(t,e,a){},e972:function(t,e,a){"use strict";a("58a6")},f276:function(t,e,a){t.exports=a.p+"assets/img/3.973954ea.png"},f80f:function(t,e,a){t.exports=a.p+"assets/img/get.5e945c70.jpg"},fbac:function(t,e,a){}});
//# sourceMappingURL=app.c0f8cd69.js.map